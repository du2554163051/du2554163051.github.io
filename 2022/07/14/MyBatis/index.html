<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MyBatis | dwjBlog</title>
  <meta name="keywords" content=" åç«¯ , SSM , MyBatis ">
  <meta name="description" content="MyBatis | dwjBlog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Spring5æ¡†æ¶1ã€Springæ¡†æ¶æ¦‚è¿° Springæ˜¯è½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶  springå¯ä»¥è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§  Springæœ‰ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†:IOCå’ŒAop    IOC:æ§åˆ¶åè½¬ï¼ŒæŠŠåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™Springè¿›è¡Œç®¡ç†  Aopï¼šé¢å‘åˆ‡é¢ï¼Œä¸ä¿®æ”¹æºä»£ç è¿›è¡ŒåŠŸèƒ½çš„å¢å¼º    Springçš„ç‰¹ç‚¹   æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ Aop ç¼–ç¨‹æ”¯æŒ æ–¹ä¾¿ç¨‹åºæµ‹è¯• æ–¹ä¾¿å’Œå…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆ">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring5">
<meta property="og:url" content="http://example.com/2022/07/05/Spring5/index.html">
<meta property="og:site_name" content="dwjBlog">
<meta property="og:description" content="Spring5æ¡†æ¶1ã€Springæ¡†æ¶æ¦‚è¿° Springæ˜¯è½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶  springå¯ä»¥è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§  Springæœ‰ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†:IOCå’ŒAop    IOC:æ§åˆ¶åè½¬ï¼ŒæŠŠåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™Springè¿›è¡Œç®¡ç†  Aopï¼šé¢å‘åˆ‡é¢ï¼Œä¸ä¿®æ”¹æºä»£ç è¿›è¡ŒåŠŸèƒ½çš„å¢å¼º    Springçš„ç‰¹ç‚¹   æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ Aop ç¼–ç¨‹æ”¯æŒ æ–¹ä¾¿ç¨‹åºæµ‹è¯• æ–¹ä¾¿å’Œå…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆ">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-07-05T08:06:32.000Z">
<meta property="article:modified_time" content="2022-07-08T02:06:20.209Z">
<meta property="article:author" content="æœæ–‡æ°">
<meta property="article:tag" content="åç«¯">
<meta property="article:tag" content="spring5">
<meta property="article:tag" content="SSM">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/github.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>æœæ–‡æ°</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/du2554163051"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
            <a title="reddit"
               href="https://www.reddit.com/user/yelog/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-reddit"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="weibo"
               href="http://weibo.com/u/2307534817"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="oschina"
               href="https://my.oschina.net/yelog"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-oschina"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="email"
               href="mailto:2554163051@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=2554163051&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="kugou"
               href="https://www.kugou.com/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-kugou"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="neteasemusic"
               href="https://music.163.com/#/user/home?id=88151013"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-neteasemusic"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(5)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="ç®—æ³•">
                        
                        ç®—æ³•
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="åç«¯">
                        
                        åç«¯
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="5">
<input type="hidden" id="yelog_site_word_count" value="21.3k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MyBatis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>spring5</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SSM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>åç«¯</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å¼€å§‹</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ç®—æ³•</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        
        <a  class="All åç«¯ "
           href="/2022/07/14/MyBatis/"
           data-tag="åç«¯,SSM,MyBatis"
           data-author="" >
            <span class="post-title" title="MyBatis">MyBatis</span>
            <span class="post-date" title="2022-07-14 18:14:12">2022/07/14</span>
        </a>
        
        
        <a  class="All åç«¯ "
           href="/2022/07/05/Spring5/"
           data-tag="åç«¯,spring5,SSM"
           data-author="" >
            <span class="post-title" title="Spring5">Spring5</span>
            <span class="post-date" title="2022-07-05 16:06:32">2022/07/05</span>
        </a>
        
        
        <a  class="All ç®—æ³• "
           href="/2022/07/05/%E7%AE%97%E6%B3%95/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="æ•°ç»„">æ•°ç»„</span>
            <span class="post-date" title="2022-07-05 14:47:21">2022/07/05</span>
        </a>
        
        
        <a  class="All åç«¯ "
           href="/2022/07/05/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"
           data-tag="å¼€å§‹"
           data-author="" >
            <span class="post-title" title="æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢">æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</span>
            <span class="post-date" title="2022-07-05 14:23:41">2022/07/05</span>
        </a>
        
        
        <a  class="All åç«¯ "
           href="/2022/03/07/Java%E5%AD%A6%E4%B9%A0/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="Javaè¯­è¨€å­¦ä¹ ">Javaè¯­è¨€å­¦ä¹ </span>
            <span class="post-date" title="2022-03-07 10:19:54">2022/03/07</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-MyBatis" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">MyBatis</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="åç«¯">åç«¯</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">åç«¯</a>
            
            <a class="color4">SSM</a>
            
            <a class="color3">MyBatis</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2022-07-15 10:00:43'>2022-07-14 18:14</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:13.2k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis%E7%AE%80%E4%BB%8B"><span class="toc-text">Mybatisç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E5%8E%86%E5%8F%B2"><span class="toc-text">MyBatiså†å²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E7%89%B9%E6%80%A7"><span class="toc-text">MyBatisç‰¹æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E4%B8%8B%E8%BD%BD"><span class="toc-text">MyBatisä¸‹è½½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8C%E5%85%B6%E5%AE%83%E6%8C%81%E4%B9%85%E5%8C%96%E5%B1%82%E6%8A%80%E6%9C%AF%E5%AF%B9%E6%AF%94"><span class="toc-text">å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAMyBatis"><span class="toc-text">æ­å»ºMyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-text">å¼€å‘ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B"><span class="toc-text">åˆ›å»ºmavenå·¥ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAMyBatis%E7%9A%84%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAmapper%E6%8E%A5%E5%8F%A3"><span class="toc-text">åˆ›å»ºmapperæ¥å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAMyBatis%E7%9A%84%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-text">åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87junit%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD"><span class="toc-text">é€šè¿‡junitæµ‹è¯•åŠŸèƒ½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E5%85%A5log4j%E6%97%A5%E5%BF%97%E5%8A%9F%E8%83%BD"><span class="toc-text">åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3"><span class="toc-text">æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="toc-text">é»˜è®¤çš„ç±»å‹åˆ«å</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-text">MyBatisçš„å¢åˆ æ”¹æŸ¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E5%80%BC%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">mapé›†åˆç±»å‹çš„å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E7%B1%BB%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">å®ä½“ç±»ç±»å‹çš„å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Param%E6%A0%87%E8%AF%86%E5%8F%82%E6%95%B0"><span class="toc-text">ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis%E7%9A%84%E5%90%84%E7%A7%8D%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD"><span class="toc-text">MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="toc-text">æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AAList%E9%9B%86%E5%90%88"><span class="toc-text">æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8D%95%E4%B8%AA%E6%95%B0%E6%8D%AE"><span class="toc-text">æŸ¥è¯¢å•ä¸ªæ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%80%E6%9D%A1%E6%95%B0%E6%8D%AE%E4%B8%BAmap%E9%9B%86%E5%90%88"><span class="toc-text">æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE%E4%B8%BAmap%E9%9B%86%E5%90%88"><span class="toc-text">æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-text">æ–¹æ³•ä¸€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">æ–¹æ³•äºŒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%B9%E6%AE%8ASQL%E7%9A%84%E6%89%A7%E8%A1%8C"><span class="toc-text">ç‰¹æ®ŠSQLçš„æ‰§è¡Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-text">æ¨¡ç³ŠæŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-text">æ‰¹é‡åˆ é™¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%AE%BE%E7%BD%AE%E8%A1%A8%E5%90%8D"><span class="toc-text">åŠ¨æ€è®¾ç½®è¡¨å</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD%E8%8E%B7%E5%8F%96%E8%87%AA%E5%A2%9E%E7%9A%84%E4%B8%BB%E9%94%AE"><span class="toc-text">æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%98%A0%E5%B0%84resultMap"><span class="toc-text">è‡ªå®šä¹‰æ˜ å°„resultMap</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#resultMap%E5%A4%84%E7%90%86%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB"><span class="toc-text">resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E4%B8%80%E6%98%A0%E5%B0%84%E5%A4%84%E7%90%86"><span class="toc-text">å¤šå¯¹ä¸€æ˜ å°„å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E6%96%B9%E5%BC%8F%E5%A4%84%E7%90%86%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB"><span class="toc-text">çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8association%E5%A4%84%E7%90%86%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB"><span class="toc-text">ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%AD%A5%E6%9F%A5%E8%AF%A2"><span class="toc-text">åˆ†æ­¥æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9F%A5%E8%AF%A2%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF"><span class="toc-text">1. æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E4%BF%A1%E6%81%AF"><span class="toc-text">2. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84%E5%A4%84%E7%90%86"><span class="toc-text">ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#collection"><span class="toc-text">collection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%AD%A5%E6%9F%A5%E8%AF%A2-1"><span class="toc-text">åˆ†æ­¥æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E4%BF%A1%E6%81%AF"><span class="toc-text">1. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%A0%B9%E6%8D%AE%E9%83%A8%E9%97%A8id%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E5%91%98%E5%B7%A5"><span class="toc-text">2. æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD"><span class="toc-text">å»¶è¿ŸåŠ è½½</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E6%80%81SQL"><span class="toc-text">åŠ¨æ€SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#if"><span class="toc-text">if</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#where"><span class="toc-text">where</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#trim"><span class="toc-text">trim</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#choose%E3%80%81when%E3%80%81otherwise"><span class="toc-text">chooseã€whenã€otherwise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#foreach"><span class="toc-text">foreach</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E7%89%87%E6%AE%B5"><span class="toc-text">SQLç‰‡æ®µ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis%E7%9A%84%E7%BC%93%E5%AD%98"><span class="toc-text">MyBatisçš„ç¼“å­˜</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E7%9A%84%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98"><span class="toc-text">MyBatisçš„ä¸€çº§ç¼“å­˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E7%9A%84%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98"><span class="toc-text">MyBatisçš„äºŒçº§ç¼“å­˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-text">äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyBatis%E7%BC%93%E5%AD%98%E6%9F%A5%E8%AF%A2%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-text">MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E5%90%88%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BC%93%E5%AD%98EHCache%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-text">æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="toc-text">æ·»åŠ ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%84%E4%B8%AAjar%E5%8C%85%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">å„ä¸ªjaråŒ…çš„åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAEHCache%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6ehcache-xml"><span class="toc-text">åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E5%85%A5logback%E6%97%A5%E5%BF%97"><span class="toc-text">åŠ å…¥logbackæ—¥å¿—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EHCache%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-text">EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis%E7%9A%84%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="toc-text">MyBatisçš„é€†å‘å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-text">åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96%E5%92%8C%E6%8F%92%E4%BB%B6"><span class="toc-text">æ·»åŠ ä¾èµ–å’Œæ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAMyBatis%E7%9A%84%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-1"><span class="toc-text">åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8CMBG%E6%8F%92%E4%BB%B6%E7%9A%84generate%E7%9B%AE%E6%A0%87"><span class="toc-text">æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QBC"><span class="toc-text">QBC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2"><span class="toc-text">æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E6%94%B9"><span class="toc-text">å¢æ”¹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6"><span class="toc-text">åˆ†é¡µæ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-text">åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96-1"><span class="toc-text">æ·»åŠ ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6"><span class="toc-text">é…ç½®åˆ†é¡µæ’ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD"><span class="toc-text">å¼€å¯åˆ†é¡µåŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E7%9B%B8%E5%85%B3%E6%95%B0%E6%8D%AE"><span class="toc-text">åˆ†é¡µç›¸å…³æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E7%9B%B4%E6%8E%A5%E8%BE%93%E5%87%BA"><span class="toc-text">æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%E4%BD%BF%E7%94%A8PageInfo"><span class="toc-text">æ–¹æ³•äºŒä½¿ç”¨PageInfo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-text">å¸¸ç”¨æ•°æ®ï¼š</span></a></li></ol></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-6 i,
    .toc-level-6 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Mybatisç®€ä»‹"><a href="#Mybatisç®€ä»‹" class="headerlink" title="Mybatisç®€ä»‹"></a>Mybatisç®€ä»‹</h1><h2 id="MyBatiså†å²"><a href="#MyBatiså†å²" class="headerlink" title="MyBatiså†å²"></a>MyBatiså†å²</h2><ul>
<li>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼ŒiBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Github</li>
<li>iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰</li>
</ul>
<h2 id="MyBatisç‰¹æ€§"><a href="#MyBatisç‰¹æ€§" class="headerlink" title="MyBatisç‰¹æ€§"></a>MyBatisç‰¹æ€§</h2><ol>
<li>MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶</li>
<li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†</li>
<li>MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</li>
<li>MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶</li>
</ol>
<h2 id="MyBatisä¸‹è½½"><a href="#MyBatisä¸‹è½½" class="headerlink" title="MyBatisä¸‹è½½"></a>MyBatisä¸‹è½½</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/mybatis/mybatis-3">MyBatisä¸‹è½½åœ°å€</a></li>
<li><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\MyBatisä¸‹è½½.png"></li>
</ul>
<h2 id="å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”"><a href="#å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”" class="headerlink" title="å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”"></a>å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</h2><ul>
<li>JDBC  </li>
<li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤  <ul>
<li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§  </li>
<li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li>
</ul>
</li>
<li>Hibernate å’Œ JPA</li>
<li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜  <ul>
<li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶  </li>
<li>å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–  </li>
<li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚  </li>
<li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</li>
</ul>
</li>
<li>MyBatis</li>
<li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²  <ul>
<li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®  </li>
<li>å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—</li>
</ul>
</li>
</ul>
<h1 id="æ­å»ºMyBatis"><a href="#æ­å»ºMyBatis" class="headerlink" title="æ­å»ºMyBatis"></a>æ­å»ºMyBatis</h1><h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><ul>
<li>IDEï¼šidea 2019.2  </li>
<li>æ„å»ºå·¥å…·ï¼šmaven 3.5.4  </li>
<li>MySQLç‰ˆæœ¬ï¼šMySQL 5.7  </li>
<li>MyBatisç‰ˆæœ¬ï¼šMyBatis 3.5.7</li>
</ul>
<h2 id="åˆ›å»ºmavenå·¥ç¨‹"><a href="#åˆ›å»ºmavenå·¥ç¨‹" class="headerlink" title="åˆ›å»ºmavenå·¥ç¨‹"></a>åˆ›å»ºmavenå·¥ç¨‹</h2><ul>
<li>æ‰“åŒ…æ–¹å¼ï¼šjar</li>
<li>å¼•å…¥ä¾èµ–</li>
</ul>
<pre><code class="xml">```xml
&lt;dependencies&gt;
    &lt;!-- Mybatisæ ¸å¿ƒ --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
        &lt;version&gt;3.5.7&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- junitæµ‹è¯• --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.12&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- MySQLé©±åŠ¨ --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;5.1.3&lt;/version&gt;
        &lt;/dependency&gt;
&lt;/dependencies&gt;
```
</code></pre>
<h2 id="åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h2><blockquote>
<p>ä¹ æƒ¯ä¸Šå‘½åä¸º<code>mybatis-config.xml</code>ï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆSpringä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥å¤§å®¶æ“ä½œæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶ã€ç²˜è´´ã€‚<br>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸»è¦ç”¨äºé…ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä»¥åŠMyBatisçš„å…¨å±€é…ç½®ä¿¡æ¯<br>æ ¸å¿ƒé…ç½®æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src&#x2F;main&#x2F;resourcesç›®å½•ä¸‹</p>
</blockquote>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  
&lt;!DOCTYPE configuration  
PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;  
&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;  
&lt;configuration&gt;  
    &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ--&gt;  
    &lt;environments default=&quot;development&quot;&gt;  
        &lt;environment id=&quot;development&quot;&gt;  
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;  
            &lt;dataSource type=&quot;POOLED&quot;&gt;  
                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;  
                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/MyBatis&quot;/&gt;  
                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;  
                &lt;property name=&quot;password&quot; value=&quot;123456&quot;/&gt;  
            &lt;/dataSource&gt;  
        &lt;/environment&gt;  
    &lt;/environments&gt;  
    &lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;  
    &lt;mappers&gt;  
        &lt;mapper resource=&quot;mappers/UserMapper.xml&quot;/&gt;  
    &lt;/mappers&gt;  
&lt;/configuration&gt;
</code></pre>
<h2 id="åˆ›å»ºmapperæ¥å£"><a href="#åˆ›å»ºmapperæ¥å£" class="headerlink" title="åˆ›å»ºmapperæ¥å£"></a>åˆ›å»ºmapperæ¥å£</h2><blockquote>
<p>MyBatisä¸­çš„mapperæ¥å£ç›¸å½“äºä»¥å‰çš„daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼Œmapperä»…ä»…æ˜¯æ¥å£ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»</p>
</blockquote>
<pre><code class="java">package com.atguigu.mybatis.mapper;  
  
public interface UserMapper &#123;  
    /**  
    * æ·»åŠ ç”¨æˆ·ä¿¡æ¯  
    */  
    int insertUser();  
&#125;
</code></pre>
<h2 id="åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶"><a href="#åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶" class="headerlink" title="åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶"></a>åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶</h2><ul>
<li>ç›¸å…³æ¦‚å¿µï¼šORMï¼ˆObject Relationship Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ã€‚  </li>
<li>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡  <ul>
<li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“  </li>
<li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Javaæ¦‚å¿µ</th>
<th>æ•°æ®åº“æ¦‚å¿µ</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç±»</td>
<td>è¡¨</td>
</tr>
<tr>
<td align="left">å±æ€§</td>
<td>å­—æ®µ&#x2F;åˆ—</td>
</tr>
<tr>
<td align="left">å¯¹è±¡</td>
<td>è®°å½•&#x2F;è¡Œ</td>
</tr>
</tbody></table>
<ul>
<li>æ˜ å°„æ–‡ä»¶çš„å‘½åè§„åˆ™</li>
<li>è¡¨æ‰€å¯¹åº”çš„å®ä½“ç±»çš„ç±»å+Mapper.xml<ul>
<li>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸ºUserMapper.xml </li>
<li>å› æ­¤ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src&#x2F;main&#x2F;resources&#x2F;mappersç›®å½•ä¸‹</li>
</ul>
</li>
<li>MyBatisä¸­å¯ä»¥é¢å‘æ¥å£æ“ä½œæ•°æ®ï¼Œè¦ä¿è¯ä¸¤ä¸ªä¸€è‡´</li>
<li>mapperæ¥å£çš„å…¨ç±»åå’Œæ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ä¿æŒä¸€è‡´<ul>
<li>mapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åå’Œæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§ä¿æŒä¸€è‡´</li>
</ul>
</li>
</ul>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  
&lt;!DOCTYPE mapper  
PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;  
&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;  
&lt;mapper namespace=&quot;com.atguigu.mybatis.mapper.UserMapper&quot;&gt;  
    &lt;!--int insertUser();--&gt;  
    &lt;insert id=&quot;insertUser&quot;&gt;  
        insert into t_user values(null,&#39;å¼ ä¸‰&#39;,&#39;123&#39;,23,&#39;å¥³&#39;)  
    &lt;/insert&gt;  
&lt;/mapper&gt;
</code></pre>
<h2 id="é€šè¿‡junitæµ‹è¯•åŠŸèƒ½"><a href="#é€šè¿‡junitæµ‹è¯•åŠŸèƒ½" class="headerlink" title="é€šè¿‡junitæµ‹è¯•åŠŸèƒ½"></a>é€šè¿‡junitæµ‹è¯•åŠŸèƒ½</h2><ul>
<li>SqlSessionï¼šä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li>
<li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€</li>
<li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡</li>
</ul>
<pre><code class="java">public class UserMapperTest &#123;
    @Test
    public void testInsertUser() throws IOException &#123;
        //è¯»å–MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶
        InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
        //è·å–SqlSessionFactoryBuilderå¯¹è±¡
        SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
        //é€šè¿‡æ ¸å¿ƒé…ç½®æ–‡ä»¶æ‰€å¯¹åº”çš„å­—èŠ‚è¾“å…¥æµåˆ›å»ºå·¥å‚ç±»SqlSessionFactoryï¼Œç”Ÿäº§SqlSessionå¯¹è±¡
        SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
        //è·å–sqlSessionï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½å¿…é¡»æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡
        //SqlSession sqlSession = sqlSessionFactory.openSession();
        //åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½ä¼šè‡ªåŠ¨æäº¤  
        SqlSession sqlSession = sqlSessionFactory.openSession(true);
        //é€šè¿‡ä»£ç†æ¨¡å¼åˆ›å»ºUserMapperæ¥å£çš„ä»£ç†å®ç°ç±»å¯¹è±¡
        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);
        //è°ƒç”¨UserMapperæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æ ¹æ®UserMapperçš„å…¨ç±»ååŒ¹é…å…ƒç´ æ–‡ä»¶ï¼Œé€šè¿‡è°ƒç”¨çš„æ–¹æ³•ååŒ¹é…æ˜ å°„æ–‡ä»¶ä¸­çš„SQLæ ‡ç­¾ï¼Œå¹¶æ‰§è¡Œæ ‡ç­¾ä¸­çš„SQLè¯­å¥
        int result = userMapper.insertUser();
        //æäº¤äº‹åŠ¡
        //sqlSession.commit();
        System.out.println(&quot;result:&quot; + result);
    &#125;
&#125;
</code></pre>
<ul>
<li>æ­¤æ—¶éœ€è¦æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼Œå¦‚æœè¦è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œåˆ™åœ¨è·å–sqlSessionå¯¹è±¡æ—¶ï¼Œä½¿ç”¨<code>SqlSession sqlSession = sqlSessionFactory.openSession(true);</code>ï¼Œä¼ å…¥ä¸€ä¸ªBooleanç±»å‹çš„å‚æ•°ï¼Œå€¼ä¸ºtrueï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨æäº¤</li>
</ul>
<h2 id="åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½"><a href="#åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½" class="headerlink" title="åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½"></a>åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½</h2><ol>
<li><p>åŠ å…¥ä¾èµ–</p>
<pre><code class="xml">&lt;!-- log4jæ—¥å¿— --&gt;
&lt;dependency&gt;
&lt;groupId&gt;log4j&lt;/groupId&gt;
&lt;artifactId&gt;log4j&lt;/artifactId&gt;
&lt;version&gt;1.2.17&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>åŠ å…¥log4jçš„é…ç½®æ–‡ä»¶</p>
<ul>
<li>log4jçš„é…ç½®æ–‡ä»¶åä¸ºlog4j.xmlï¼Œå­˜æ”¾çš„ä½ç½®æ˜¯src&#x2F;main&#x2F;resourcesç›®å½•ä¸‹</li>
<li>æ—¥å¿—çš„çº§åˆ«ï¼šFATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•) ä»å·¦åˆ°å³æ‰“å°çš„å†…å®¹è¶Šæ¥è¶Šè¯¦ç»†</li>
</ul>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;
&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;
    &lt;appender name=&quot;STDOUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;
        &lt;param name=&quot;Encoding&quot; value=&quot;UTF-8&quot; /&gt;
        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;
            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%-5p %d&#123;MM-dd HH:mm:ss,SSS&#125; %m (%F:%L) \n&quot; /&gt;
        &lt;/layout&gt;
    &lt;/appender&gt;
    &lt;logger name=&quot;java.sql&quot;&gt;
        &lt;level value=&quot;debug&quot; /&gt;
    &lt;/logger&gt;
    &lt;logger name=&quot;org.apache.ibatis&quot;&gt;
        &lt;level value=&quot;info&quot; /&gt;
    &lt;/logger&gt;
    &lt;root&gt;
        &lt;level value=&quot;debug&quot; /&gt;
        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;
    &lt;/root&gt;
&lt;/log4j:configuration&gt;
</code></pre>
</li>
</ol>
<h1 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"><a href="#æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£" class="headerlink" title="æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"></a>æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</h1><blockquote>
<p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„æ ‡ç­¾å¿…é¡»æŒ‰ç…§å›ºå®šçš„é¡ºåº(æœ‰çš„æ ‡ç­¾å¯ä»¥ä¸å†™ï¼Œä½†é¡ºåºä¸€å®šä¸èƒ½ä¹±)ï¼š<br>propertiesã€settingsã€typeAliasesã€typeHandlersã€objectFactoryã€objectWrapperFactoryã€reflectorFactoryã€pluginsã€environmentsã€databaseIdProviderã€mappers</p>
</blockquote>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//MyBatis.org//DTD Config 3.0//EN&quot;
        &quot;http://MyBatis.org/dtd/MyBatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;!--å¼•å…¥propertiesæ–‡ä»¶ï¼Œæ­¤æ—¶å°±å¯ä»¥$&#123;å±æ€§å&#125;çš„æ–¹å¼è®¿é—®å±æ€§å€¼--&gt;
    &lt;properties resource=&quot;jdbc.properties&quot;&gt;&lt;/properties&gt;
    &lt;settings&gt;
        &lt;!--å°†è¡¨ä¸­å­—æ®µçš„ä¸‹åˆ’çº¿è‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°--&gt;
        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;
        &lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;
        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;
    &lt;/settings&gt;
    &lt;typeAliases&gt;
        &lt;!--
        typeAliasï¼šè®¾ç½®æŸä¸ªå…·ä½“çš„ç±»å‹çš„åˆ«å
        å±æ€§ï¼š
        typeï¼šéœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹çš„å…¨ç±»å
        aliasï¼šè®¾ç½®æ­¤ç±»å‹çš„åˆ«åï¼Œä¸”åˆ«åä¸åŒºåˆ†å¤§å°å†™ã€‚è‹¥ä¸è®¾ç½®æ­¤å±æ€§ï¼Œè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»å
        --&gt;
        &lt;!--&lt;typeAlias type=&quot;com.atguigu.mybatis.bean.User&quot;&gt;&lt;/typeAlias&gt;--&gt;
        &lt;!--&lt;typeAlias type=&quot;com.atguigu.mybatis.bean.User&quot; alias=&quot;user&quot;&gt;
        &lt;/typeAlias&gt;--&gt;
        &lt;!--ä»¥åŒ…ä¸ºå•ä½ï¼Œè®¾ç½®æ”¹åŒ…ä¸‹æ‰€æœ‰çš„ç±»å‹éƒ½æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™--&gt;
        &lt;package name=&quot;com.atguigu.mybatis.bean&quot;/&gt;
    &lt;/typeAliases&gt;
    &lt;!--
    environmentsï¼šè®¾ç½®å¤šä¸ªè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ
    å±æ€§ï¼š
        defaultï¼šè®¾ç½®é»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒçš„id
    --&gt;
    &lt;environments default=&quot;mysql_test&quot;&gt;
        &lt;!--
        environmentï¼šè®¾ç½®å…·ä½“çš„è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä¿¡æ¯
        å±æ€§ï¼š
            idï¼šè®¾ç½®ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†ï¼Œå¯é€šè¿‡environmentsæ ‡ç­¾ä¸­çš„defaultè®¾ç½®æŸä¸€ä¸ªç¯å¢ƒçš„idï¼Œè¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒ
        --&gt;
        &lt;environment id=&quot;mysql_test&quot;&gt;
            &lt;!--
            transactionManagerï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼
            å±æ€§ï¼š
                typeï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œtype=&quot;JDBC|MANAGED&quot;
                type=&quot;JDBC&quot;ï¼šè®¾ç½®å½“å‰ç¯å¢ƒçš„äº‹åŠ¡ç®¡ç†éƒ½å¿…é¡»æ‰‹åŠ¨å¤„ç†
                type=&quot;MANAGED&quot;ï¼šè®¾ç½®äº‹åŠ¡è¢«ç®¡ç†ï¼Œä¾‹å¦‚springä¸­çš„AOP
            --&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;!--
            dataSourceï¼šè®¾ç½®æ•°æ®æº
            å±æ€§ï¼š
                typeï¼šè®¾ç½®æ•°æ®æºçš„ç±»å‹ï¼Œtype=&quot;POOLED|UNPOOLED|JNDI&quot;
                type=&quot;POOLED&quot;ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³ä¼šå°†åˆ›å»ºçš„è¿æ¥è¿›è¡Œç¼“å­˜ï¼Œä¸‹æ¬¡ä½¿ç”¨å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»º
                type=&quot;UNPOOLED&quot;ï¼šä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³æ¯æ¬¡ä½¿ç”¨è¿æ¥éƒ½éœ€è¦é‡æ–°åˆ›å»º
                type=&quot;JNDI&quot;ï¼šè°ƒç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº
            --&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;!--è®¾ç½®é©±åŠ¨ç±»çš„å…¨ç±»å--&gt;
                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
                &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„è¿æ¥åœ°å€--&gt;
                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
                &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;
                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
                &lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;
                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;
    &lt;mappers&gt;
        &lt;!-- &lt;mapper resource=&quot;UserMapper.xml&quot;/&gt; --&gt;
        &lt;!--
        ä»¥åŒ…ä¸ºå•ä½ï¼Œå°†åŒ…ä¸‹æ‰€æœ‰çš„æ˜ å°„æ–‡ä»¶å¼•å…¥æ ¸å¿ƒé…ç½®æ–‡ä»¶
        æ³¨æ„ï¼š
            1. æ­¤æ–¹å¼å¿…é¡»ä¿è¯mapperæ¥å£å’Œmapperæ˜ å°„æ–‡ä»¶å¿…é¡»åœ¨ç›¸åŒçš„åŒ…ä¸‹
            2. mapperæ¥å£è¦å’Œmapperæ˜ å°„æ–‡ä»¶çš„åå­—ä¸€è‡´
        --&gt;
        &lt;package name=&quot;com.atguigu.mybatis.mapper&quot;/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;
</code></pre>
<ul>
<li><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\mapperæ¥å£å’Œmapperæ˜ å°„æ–‡ä»¶åœ¨åŒä¸€åŒ…ä¸‹.png"></li>
</ul>
<h1 id="é»˜è®¤çš„ç±»å‹åˆ«å"><a href="#é»˜è®¤çš„ç±»å‹åˆ«å" class="headerlink" title="é»˜è®¤çš„ç±»å‹åˆ«å"></a>é»˜è®¤çš„ç±»å‹åˆ«å</h1><p><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\é»˜è®¤çš„ç±»å‹åˆ«å1.png"><br><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\é»˜è®¤çš„ç±»å‹åˆ«å2.png"></p>
<h1 id="MyBatisçš„å¢åˆ æ”¹æŸ¥"><a href="#MyBatisçš„å¢åˆ æ”¹æŸ¥" class="headerlink" title="MyBatisçš„å¢åˆ æ”¹æŸ¥"></a>MyBatisçš„å¢åˆ æ”¹æŸ¥</h1><ol>
<li><p>æ·»åŠ </p>
<pre><code class="xml">&lt;!--int insertUser();--&gt;
&lt;insert id=&quot;insertUser&quot;&gt;
    insert into t_user values(null,&#39;admin&#39;,&#39;123456&#39;,23,&#39;ç”·&#39;,&#39;12345@qq.com&#39;)
&lt;/insert&gt;
</code></pre>
</li>
<li><p>åˆ é™¤</p>
<pre><code class="xml">&lt;!--int deleteUser();--&gt;
 &lt;delete id=&quot;deleteUser&quot;&gt;
     delete from t_user where id = 6
 &lt;/delete&gt;
</code></pre>
</li>
<li><p>ä¿®æ”¹</p>
<pre><code class="xml">&lt;!--int updateUser();--&gt;
 &lt;update id=&quot;updateUser&quot;&gt;
     update t_user set username = &#39;å¼ ä¸‰&#39; where id = 5
 &lt;/update&gt;
</code></pre>
</li>
<li><p>æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</p>
<pre><code class="xml">&lt;!--User getUserById();--&gt;  
&lt;select id=&quot;getUserById&quot; resultType=&quot;com.atguigu.mybatis.bean.User&quot;&gt;  
    select * from t_user where id = 2  
&lt;/select&gt;
</code></pre>
</li>
<li><p>æŸ¥è¯¢é›†åˆ</p>
<pre><code class="xml">&lt;!--List&lt;User&gt; getUserList();--&gt;
&lt;select id=&quot;getUserList&quot; resultType=&quot;com.atguigu.mybatis.bean.User&quot;&gt;
    select * from t_user
&lt;/select&gt;
</code></pre>
</li>
</ol>
<ul>
<li><p>æ³¨æ„ï¼š</p>
<ol>
<li>æŸ¥è¯¢çš„æ ‡ç­¾selectå¿…é¡»è®¾ç½®å±æ€§resultTypeæˆ–resultMapï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³»  <ul>
<li>resultTypeï¼šè‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ  </li>
<li>resultMapï¼šè‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</li>
</ul>
</li>
<li>å½“æŸ¥è¯¢çš„æ•°æ®ä¸ºå¤šæ¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å®ä½“ç±»ä½œä¸ºè¿”å›å€¼ï¼Œåªèƒ½ä½¿ç”¨é›†åˆï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸TooManyResultsExceptionï¼›ä½†æ˜¯è‹¥æŸ¥è¯¢çš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥ä½¿ç”¨å®ä½“ç±»æˆ–é›†åˆä½œä¸ºè¿”å›å€¼</li>
</ol>
</li>
</ul>
<h1 id="MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰"><a href="#MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰"></a>MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰</h1><ul>
<li>MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š${}å’Œ#{}  </li>
<li>${}çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ#{}çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼  </li>
<li>${}ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æ‹¼æ¥sqlï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ï¼›ä½†æ˜¯#{}ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</li>
</ul>
<h2 id="å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"><a href="#å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" class="headerlink" title="å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"></a>å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h2><ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ä»¥ä»»æ„çš„åç§°ï¼ˆæœ€å¥½è§åè¯†æ„ï¼‰è·å–å‚æ•°çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<pre><code class="xml">&lt;!--User getUserByUsername(String username);--&gt;
&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt;
    select * from t_user where username = #&#123;username&#125;
&lt;/select&gt;
</code></pre>
<pre><code class="xml">&lt;!--User getUserByUsername(String username);--&gt;
&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt;  
    select * from t_user where username = &#39;$&#123;username&#125;&#39;  
&lt;/select&gt;
</code></pre>
<h2 id="å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"><a href="#å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" class="headerlink" title="å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°"></a>å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h2><ul>
<li><p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶MyBatisä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ªmapé›†åˆä¸­</p>
<ol>
<li>ä»¥arg0,arg1â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
<li>ä»¥param1,param2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
</ol>
</li>
<li><p>å› æ­¤åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ã€‚</p>
</li>
<li><p>ä½¿ç”¨argæˆ–è€…paraméƒ½è¡Œï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œargæ˜¯ä»arg0å¼€å§‹çš„ï¼Œparamæ˜¯ä»param1å¼€å§‹çš„</p>
</li>
</ul>
<pre><code class="xml">&lt;!--User checkLogin(String username,String password);--&gt;
&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt;  
    select * from t_user where username = #&#123;arg0&#125; and password = #&#123;arg1&#125;  
&lt;/select&gt;
</code></pre>
<pre><code class="xml">&lt;!--User checkLogin(String username,String password);--&gt;
&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt;
    select * from t_user where username = &#39;$&#123;param1&#125;&#39; and password = &#39;$&#123;param2&#125;&#39;
&lt;/select&gt;
</code></pre>
<h2 id="mapé›†åˆç±»å‹çš„å‚æ•°"><a href="#mapé›†åˆç±»å‹çš„å‚æ•°" class="headerlink" title="mapé›†åˆç±»å‹çš„å‚æ•°"></a>mapé›†åˆç±»å‹çš„å‚æ•°</h2><ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨åˆ›å»ºmapé›†åˆï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨mapä¸­åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<pre><code class="xml">&lt;!--User checkLoginByMap(Map&lt;String,Object&gt; map);--&gt;
&lt;select id=&quot;checkLoginByMap&quot; resultType=&quot;User&quot;&gt;
    select * from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;
&lt;/select&gt;
</code></pre>
<pre><code class="java">@Test
public void checkLoginByMap() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);
    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();
    map.put(&quot;usermane&quot;,&quot;admin&quot;);
    map.put(&quot;password&quot;,&quot;123456&quot;);
    User user = mapper.checkLoginByMap(map);
    System.out.println(user);
&#125;
</code></pre>
<h2 id="å®ä½“ç±»ç±»å‹çš„å‚æ•°"><a href="#å®ä½“ç±»ç±»å‹çš„å‚æ•°" class="headerlink" title="å®ä½“ç±»ç±»å‹çš„å‚æ•°"></a>å®ä½“ç±»ç±»å‹çš„å‚æ•°</h2><ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå®ä½“ç±»å¯¹è±¡æ—¶æ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ï¼Œé€šè¿‡è®¿é—®å®ä½“ç±»å¯¹è±¡ä¸­çš„å±æ€§åè·å–å±æ€§å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<pre><code class="xml">&lt;!--int insertUser(User user);--&gt;
&lt;insert id=&quot;insertUser&quot;&gt;
    insert into t_user values(null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;sex&#125;,#&#123;email&#125;)
&lt;/insert&gt;
</code></pre>
<pre><code class="java">@Test
public void insertUser() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);
    User user = new User(null,&quot;Tom&quot;,&quot;123456&quot;,12,&quot;ç”·&quot;,&quot;123@321.com&quot;);
    mapper.insertUser(user);
&#125;
</code></pre>
<h2 id="ä½¿ç”¨-Paramæ ‡è¯†å‚æ•°"><a href="#ä½¿ç”¨-Paramæ ‡è¯†å‚æ•°" class="headerlink" title="ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°"></a>ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</h2><ul>
<li><p>å¯ä»¥é€šè¿‡@Paramæ³¨è§£æ ‡è¯†mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ï¼Œæ­¤æ—¶ï¼Œä¼šå°†è¿™äº›å‚æ•°æ”¾åœ¨mapé›†åˆä¸­ </p>
<ol>
<li>ä»¥@Paramæ³¨è§£çš„valueå±æ€§å€¼ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
<li>ä»¥param1,param2â€¦ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
</ol>
</li>
<li><p>åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p>
</li>
</ul>
<pre><code class="xml">&lt;!--User CheckLoginByParam(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password);--&gt;
    &lt;select id=&quot;CheckLoginByParam&quot; resultType=&quot;User&quot;&gt;
        select * from t_user where username = #&#123;username&#125; and password = #&#123;password&#125;
    &lt;/select&gt;
</code></pre>
<pre><code class="java">@Test
public void checkLoginByParam() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);
    mapper.CheckLoginByParam(&quot;admin&quot;,&quot;123456&quot;);
&#125;
</code></pre>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li><p>å»ºè®®åˆ†æˆä¸¤ç§æƒ…å†µè¿›è¡Œå¤„ç†</p>
<ol>
<li>å®ä½“ç±»ç±»å‹çš„å‚æ•°</li>
<li>ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</li>
</ol>
</li>
</ul>
<h1 id="MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½"><a href="#MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½" class="headerlink" title="MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½"></a>MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</h1><ol>
<li>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥é€šè¿‡<ol>
<li>å®ä½“ç±»å¯¹è±¡æ¥æ”¶</li>
<li>Listé›†åˆæ¥æ”¶</li>
<li>Mapé›†åˆæ¥æ”¶ï¼Œç»“æœ<code>&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;</code></li>
</ol>
</li>
<li>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®æœ‰å¤šæ¡ï¼Œä¸€å®šä¸èƒ½ç”¨å®ä½“ç±»å¯¹è±¡æ¥æ”¶ï¼Œä¼šæŠ›å¼‚å¸¸TooManyResultsExceptionï¼Œå¯ä»¥é€šè¿‡<ol>
<li>å®ä½“ç±»ç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>Mapç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>åœ¨mapperæ¥å£çš„æ–¹æ³•ä¸Šæ·»åŠ @MapKeyæ³¨è§£</li>
</ol>
</li>
</ol>
<h2 id="æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡"><a href="#æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡" class="headerlink" title="æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡"></a>æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</h2><pre><code class="java">/**
 * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
 * @param id
 * @return
 */
User getUserById(@Param(&quot;id&quot;) int id);
</code></pre>
<pre><code class="xml">&lt;!--User getUserById(@Param(&quot;id&quot;) int id);--&gt;
&lt;select id=&quot;getUserById&quot; resultType=&quot;User&quot;&gt;
    select * from t_user where id = #&#123;id&#125;
&lt;/select&gt;
</code></pre>
<h2 id="æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ"><a href="#æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ" class="headerlink" title="æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ"></a>æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ</h2><pre><code class="java">/**
 * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
 * @return
 */
List&lt;User&gt; getUserList();
</code></pre>
<pre><code class="xml">&lt;!--List&lt;User&gt; getUserList();--&gt;
&lt;select id=&quot;getUserList&quot; resultType=&quot;User&quot;&gt;
    select * from t_user
&lt;/select&gt;
</code></pre>
<h2 id="æŸ¥è¯¢å•ä¸ªæ•°æ®"><a href="#æŸ¥è¯¢å•ä¸ªæ•°æ®" class="headerlink" title="æŸ¥è¯¢å•ä¸ªæ•°æ®"></a>æŸ¥è¯¢å•ä¸ªæ•°æ®</h2><pre><code class="java">/**  
 * æŸ¥è¯¢ç”¨æˆ·çš„æ€»è®°å½•æ•°  
 * @return  
 * åœ¨MyBatisä¸­ï¼Œå¯¹äºJavaä¸­å¸¸ç”¨çš„ç±»å‹éƒ½è®¾ç½®äº†ç±»å‹åˆ«å  
 * ä¾‹å¦‚ï¼šjava.lang.Integer--&gt;int|integer  
 * ä¾‹å¦‚ï¼šint--&gt;_int|_integer  
 * ä¾‹å¦‚ï¼šMap--&gt;map,List--&gt;list  
 */  
int getCount();
</code></pre>
<pre><code class="xml">&lt;!--int getCount();--&gt;
&lt;select id=&quot;getCount&quot; resultType=&quot;_integer&quot;&gt;
    select count(id) from t_user
&lt;/select&gt;
</code></pre>
<h2 id="æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ"><a href="#æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ" class="headerlink" title="æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ"></a>æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</h2><pre><code class="java">/**  
 * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  
 * @param id  
 * @return  
 */  
Map&lt;String, Object&gt; getUserToMap(@Param(&quot;id&quot;) int id);
</code></pre>
<pre><code class="xml">&lt;!--Map&lt;String, Object&gt; getUserToMap(@Param(&quot;id&quot;) int id);--&gt;
&lt;select id=&quot;getUserToMap&quot; resultType=&quot;map&quot;&gt;
    select * from t_user where id = #&#123;id&#125;
&lt;/select&gt;
&lt;!--ç»“æœï¼š&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;--&gt;
</code></pre>
<h2 id="æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ"><a href="#æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ" class="headerlink" title="æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ"></a>æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><pre><code class="java">/**  
 * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  
 * @return  
 * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–  
 */  
List&lt;Map&lt;String, Object&gt;&gt; getAllUserToMap();
</code></pre>
<pre><code class="xml">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;  
&lt;select id=&quot;getAllUserToMap&quot; resultType=&quot;map&quot;&gt;  
    select * from t_user  
&lt;/select&gt;
&lt;!--
    ç»“æœï¼š
    [&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;,
    &#123;password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰&#125;,
    &#123;password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰&#125;]
--&gt;
</code></pre>
<h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><pre><code class="java">/**
 * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ
 * @return
 * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡@MapKeyæ³¨è§£è®¾ç½®mapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„mapé›†åˆ
 */
@MapKey(&quot;id&quot;)
Map&lt;String, Object&gt; getAllUserToMap();
</code></pre>
<pre><code class="xml">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;
&lt;select id=&quot;getAllUserToMap&quot; resultType=&quot;map&quot;&gt;
    select * from t_user
&lt;/select&gt;
&lt;!--
    ç»“æœï¼š
    &#123;
    1=&#123;password=123456, sex=ç”·, id=1, age=23, username=admin&#125;,
    2=&#123;password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰&#125;,
    3=&#123;password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰&#125;
    &#125;
--&gt;
</code></pre>
<h1 id="ç‰¹æ®ŠSQLçš„æ‰§è¡Œ"><a href="#ç‰¹æ®ŠSQLçš„æ‰§è¡Œ" class="headerlink" title="ç‰¹æ®ŠSQLçš„æ‰§è¡Œ"></a>ç‰¹æ®ŠSQLçš„æ‰§è¡Œ</h1><h2 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h2><pre><code class="java">/**
 * æ ¹æ®ç”¨æˆ·åè¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢
 * @param username 
 * @return java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;
 * @date 2022/2/26 21:56
 */
List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;) String username);
</code></pre>
<pre><code class="xml">&lt;!--List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;) String username);--&gt;
&lt;select id=&quot;getUserByLike&quot; resultType=&quot;User&quot;&gt;
    &lt;!--select * from t_user where username like &#39;%$&#123;mohu&#125;%&#39;--&gt;  
    &lt;!--select * from t_user where username like concat(&#39;%&#39;,#&#123;mohu&#125;,&#39;%&#39;)--&gt;  
    select * from t_user where username like &quot;%&quot;#&#123;mohu&#125;&quot;%&quot;
&lt;/select&gt;
</code></pre>
<ul>
<li>å…¶ä¸­<code>select * from t_user where username like &quot;%&quot;#&#123;mohu&#125;&quot;%&quot;</code>æ˜¯æœ€å¸¸ç”¨çš„</li>
</ul>
<h2 id="æ‰¹é‡åˆ é™¤"><a href="#æ‰¹é‡åˆ é™¤" class="headerlink" title="æ‰¹é‡åˆ é™¤"></a>æ‰¹é‡åˆ é™¤</h2><ul>
<li>åªèƒ½ä½¿ç”¨${}ï¼Œå¦‚æœä½¿ç”¨#{}ï¼Œåˆ™è§£æåçš„sqlè¯­å¥ä¸º<code>delete from t_user where id in (&#39;1,2,3&#39;)</code>ï¼Œè¿™æ ·æ˜¯å°†<code>1,2,3</code>çœ‹åšæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œåªæœ‰idä¸º<code>1,2,3</code>çš„æ•°æ®ä¼šè¢«åˆ é™¤ã€‚æ­£ç¡®çš„è¯­å¥åº”è¯¥æ˜¯<code>delete from t_user where id in (1,2,3)</code>ï¼Œæˆ–è€…<code>delete from t_user where id in (&#39;1&#39;,&#39;2&#39;,&#39;3&#39;)</code></li>
</ul>
<pre><code class="java">/**
 * æ ¹æ®idæ‰¹é‡åˆ é™¤
 * @param ids 
 * @return int
 * @date 2022/2/26 22:06
 */
int deleteMore(@Param(&quot;ids&quot;) String ids);
</code></pre>
<pre><code class="xml">&lt;delete id=&quot;deleteMore&quot;&gt;
    delete from t_user where id in ($&#123;ids&#125;)
&lt;/delete&gt;
</code></pre>
<pre><code class="java">//æµ‹è¯•ç±»
@Test
public void deleteMore() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    SQLMapper mapper = sqlSession.getMapper(SQLMapper.class);
    int result = mapper.deleteMore(&quot;1,2,3,8&quot;);
    System.out.println(result);
&#125;
</code></pre>
<h2 id="åŠ¨æ€è®¾ç½®è¡¨å"><a href="#åŠ¨æ€è®¾ç½®è¡¨å" class="headerlink" title="åŠ¨æ€è®¾ç½®è¡¨å"></a>åŠ¨æ€è®¾ç½®è¡¨å</h2><ul>
<li>åªèƒ½ä½¿ç”¨${}ï¼Œå› ä¸ºè¡¨åä¸èƒ½åŠ å•å¼•å·</li>
</ul>
<pre><code class="java">/**
 * æŸ¥è¯¢æŒ‡å®šè¡¨ä¸­çš„æ•°æ®
 * @param tableName 
 * @return java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;
 * @date 2022/2/27 14:41
 */
List&lt;User&gt; getUserByTable(@Param(&quot;tableName&quot;) String tableName);
</code></pre>
<pre><code class="xml">&lt;!--List&lt;User&gt; getUserByTable(@Param(&quot;tableName&quot;) String tableName);--&gt;
&lt;select id=&quot;getUserByTable&quot; resultType=&quot;User&quot;&gt;
    select * from $&#123;tableName&#125;
&lt;/select&gt;
</code></pre>
<h2 id="æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®"><a href="#æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®" class="headerlink" title="æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®"></a>æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</h2><ul>
<li><p>ä½¿ç”¨åœºæ™¯</p>
</li>
<li><p>t_clazz(clazz_id,clazz_name)  </p>
<ul>
<li>t_student(student_id,student_name,clazz_id)</li>
</ul>
<ol>
<li>æ·»åŠ ç­çº§ä¿¡æ¯  </li>
<li>è·å–æ–°æ·»åŠ çš„ç­çº§çš„id  </li>
<li>ä¸ºç­çº§åˆ†é…å­¦ç”Ÿï¼Œå³å°†æŸå­¦çš„ç­çº§idä¿®æ”¹ä¸ºæ–°æ·»åŠ çš„ç­çº§çš„id</li>
</ol>
</li>
<li><p>åœ¨mapper.xmlä¸­è®¾ç½®ä¸¤ä¸ªå±æ€§</p>
</li>
<li><p>useGeneratedKeysï¼šè®¾ç½®ä½¿ç”¨è‡ªå¢çš„ä¸»é”®  </p>
<ul>
<li>keyPropertyï¼šå› ä¸ºå¢åˆ æ”¹æœ‰ç»Ÿä¸€çš„è¿”å›å€¼æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå› æ­¤åªèƒ½å°†è·å–çš„è‡ªå¢çš„ä¸»é”®æ”¾åœ¨ä¼ è¾“çš„å‚æ•°userå¯¹è±¡çš„æŸä¸ªå±æ€§ä¸­</li>
</ul>
</li>
</ul>
<pre><code class="java">/**
 * æ·»åŠ ç”¨æˆ·ä¿¡æ¯
 * @param user 
 * @date 2022/2/27 15:04
 */
void insertUser(User user);
</code></pre>
<pre><code class="xml">&lt;!--void insertUser(User user);--&gt;
&lt;insert id=&quot;insertUser&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;
    insert into t_user values (null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;sex&#125;,#&#123;email&#125;)
&lt;/insert&gt;
</code></pre>
<pre><code class="java">//æµ‹è¯•ç±»
@Test
public void insertUser() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    SQLMapper mapper = sqlSession.getMapper(SQLMapper.class);
    User user = new User(null, &quot;ton&quot;, &quot;123&quot;, 23, &quot;ç”·&quot;, &quot;123@321.com&quot;);
    mapper.insertUser(user);
    System.out.println(user);
    //è¾“å‡ºï¼šuser&#123;id=10, username=&#39;ton&#39;, password=&#39;123&#39;, age=23, sex=&#39;ç”·&#39;, email=&#39;123@321.com&#39;&#125;ï¼Œè‡ªå¢ä¸»é”®å­˜æ”¾åˆ°äº†userçš„idå±æ€§ä¸­
&#125;
</code></pre>
<h1 id="è‡ªå®šä¹‰æ˜ å°„resultMap"><a href="#è‡ªå®šä¹‰æ˜ å°„resultMap" class="headerlink" title="è‡ªå®šä¹‰æ˜ å°„resultMap"></a>è‡ªå®šä¹‰æ˜ å°„resultMap</h1><h2 id="resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»"><a href="#resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»" class="headerlink" title="resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»"></a>resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»</h2><ul>
<li>resultMapï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„  </li>
<li>å±æ€§ï¼š  <ul>
<li>idï¼šè¡¨ç¤ºè‡ªå®šä¹‰æ˜ å°„çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½é‡å¤</li>
<li>typeï¼šæŸ¥è¯¢çš„æ•°æ®è¦æ˜ å°„çš„å®ä½“ç±»çš„ç±»å‹  </li>
<li>å­æ ‡ç­¾ï¼š  </li>
<li>idï¼šè®¾ç½®ä¸»é”®çš„æ˜ å°„å…³ç³»  <ul>
<li>resultï¼šè®¾ç½®æ™®é€šå­—æ®µçš„æ˜ å°„å…³ç³»  </li>
<li>å­æ ‡ç­¾å±æ€§ï¼š  </li>
<li>propertyï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­å®ä½“ç±»ä¸­çš„å±æ€§å  <ul>
<li>columnï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­è¡¨ä¸­çš„å­—æ®µå</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œåˆ™å¯ä»¥é€šè¿‡resultMapè®¾ç½®è‡ªå®šä¹‰æ˜ å°„ï¼Œå³ä½¿å­—æ®µåå’Œå±æ€§åä¸€è‡´çš„å±æ€§ä¹Ÿè¦æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯å…¨éƒ¨å±æ€§éƒ½è¦åˆ—å‡ºæ¥</li>
</ul>
<pre><code class="xml">&lt;resultMap id=&quot;empResultMap&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
&lt;/resultMap&gt;
&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;
&lt;select id=&quot;getAllEmp&quot; resultMap=&quot;empResultMap&quot;&gt;
    select * from t_emp
&lt;/select&gt;
</code></pre>
<ul>
<li><p>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œä½†æ˜¯å­—æ®µåç¬¦åˆæ•°æ®åº“çš„è§„åˆ™ï¼ˆä½¿ç”¨_ï¼‰ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åç¬¦åˆJavaçš„è§„åˆ™ï¼ˆä½¿ç”¨é©¼å³°ï¼‰ã€‚æ­¤æ—¶ä¹Ÿå¯é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¤„ç†å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§çš„æ˜ å°„å…³ç³»  </p>
<ol>
<li>å¯ä»¥é€šè¿‡ä¸ºå­—æ®µèµ·åˆ«åçš„æ–¹å¼ï¼Œä¿è¯å’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¿æŒä¸€è‡´  <pre><code class="xml">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;
&lt;select id=&quot;getAllEmp&quot; resultType=&quot;Emp&quot;&gt;
    select eid,emp_name empName,age,sex,email from t_emp
&lt;/select&gt;
</code></pre>
</li>
<li>å¯ä»¥åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„<code>setting</code>æ ‡ç­¾ä¸­ï¼Œè®¾ç½®ä¸€ä¸ªå…¨å±€é…ç½®ä¿¡æ¯mapUnderscoreToCamelCaseï¼Œå¯ä»¥åœ¨æŸ¥è¯¢è¡¨ä¸­æ•°æ®æ—¶ï¼Œè‡ªåŠ¨å°†_ç±»å‹çš„å­—æ®µåè½¬æ¢ä¸ºé©¼å³°ï¼Œä¾‹å¦‚ï¼šå­—æ®µåuser_nameï¼Œè®¾ç½®äº†mapUnderscoreToCamelCaseï¼Œæ­¤æ—¶å­—æ®µåå°±ä¼šè½¬æ¢ä¸ºuserNameã€‚<a href="#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3">æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</a><pre><code class="xml"> &lt;settings&gt;
&lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;
 &lt;/settings&gt;
</code></pre>
</li>
</ol>
</li>
</ul>
<h2 id="å¤šå¯¹ä¸€æ˜ å°„å¤„ç†"><a href="#å¤šå¯¹ä¸€æ˜ å°„å¤„ç†" class="headerlink" title="å¤šå¯¹ä¸€æ˜ å°„å¤„ç†"></a>å¤šå¯¹ä¸€æ˜ å°„å¤„ç†</h2><blockquote>
<p>æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ä»¥åŠå‘˜å·¥æ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</p>
</blockquote>
<pre><code class="java">public class Emp &#123;  
    private Integer eid;  
    private String empName;  
    private Integer age;  
    private String sex;  
    private String email;  
    private Dept dept;
    //...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰
&#125;
</code></pre>
<h3 id="çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»"><a href="#çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»" class="headerlink" title="çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»"></a>çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»</h3><pre><code class="xml">&lt;resultMap id=&quot;empAndDeptResultMapOne&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;dept.did&quot; column=&quot;did&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;dept.deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
&lt;/resultMap&gt;
&lt;!--Emp getEmpAndDept(@Param(&quot;eid&quot;)Integer eid);--&gt;
&lt;select id=&quot;getEmpAndDept&quot; resultMap=&quot;empAndDeptResultMapOne&quot;&gt;
    select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #&#123;eid&#125;
&lt;/select&gt;
</code></pre>
<h3 id="ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»"><a href="#ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»" class="headerlink" title="ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»"></a>ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»</h3><ul>
<li>associationï¼šå¤„ç†å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</li>
<li>propertyï¼šéœ€è¦å¤„ç†å¤šå¯¹çš„æ˜ å°„å…³ç³»çš„å±æ€§å</li>
<li>javaTypeï¼šè¯¥å±æ€§çš„ç±»å‹</li>
</ul>
<pre><code class="xml">&lt;resultMap id=&quot;empAndDeptResultMapTwo&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;association property=&quot;dept&quot; javaType=&quot;Dept&quot;&gt;
        &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
    &lt;/association&gt;
&lt;/resultMap&gt;
&lt;!--Emp getEmpAndDept(@Param(&quot;eid&quot;)Integer eid);--&gt;
&lt;select id=&quot;getEmpAndDept&quot; resultMap=&quot;empAndDeptResultMapTwo&quot;&gt;
    select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #&#123;eid&#125;
&lt;/select&gt;
</code></pre>
<h3 id="åˆ†æ­¥æŸ¥è¯¢"><a href="#åˆ†æ­¥æŸ¥è¯¢" class="headerlink" title="åˆ†æ­¥æŸ¥è¯¢"></a>åˆ†æ­¥æŸ¥è¯¢</h3><h4 id="1-æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯"><a href="#1-æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯" class="headerlink" title="1. æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯"></a>1. æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</h4><ul>
<li>selectï¼šè®¾ç½®åˆ†å¸ƒæŸ¥è¯¢çš„sqlçš„å”¯ä¸€æ ‡è¯†ï¼ˆnamespace.SQLIdæˆ–mapperæ¥å£çš„å…¨ç±»å.æ–¹æ³•åï¼‰</li>
<li>columnï¼šè®¾ç½®åˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶</li>
</ul>
<pre><code class="java">//EmpMapperé‡Œçš„æ–¹æ³•
/**
 * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
 * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯
 * @param  
 * @return com.atguigu.mybatis.pojo.Emp
 * @date 2022/2/27 20:17
 */
Emp getEmpAndDeptByStepOne(@Param(&quot;eid&quot;) Integer eid);
</code></pre>
<pre><code class="xml">&lt;resultMap id=&quot;empAndDeptByStepResultMap&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;association property=&quot;dept&quot;
                 select=&quot;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&quot;
                 column=&quot;did&quot;&gt;&lt;/association&gt;
&lt;/resultMap&gt;
&lt;!--Emp getEmpAndDeptByStepOne(@Param(&quot;eid&quot;) Integer eid);--&gt;
&lt;select id=&quot;getEmpAndDeptByStepOne&quot; resultMap=&quot;empAndDeptByStepResultMap&quot;&gt;
    select * from t_emp where eid = #&#123;eid&#125;
&lt;/select&gt;
</code></pre>
<h4 id="2-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"><a href="#2-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯" class="headerlink" title="2. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"></a>2. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</h4><pre><code class="java">//DeptMapperé‡Œçš„æ–¹æ³•
/**
 * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
 * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šé€šè¿‡didæŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
 * @param
 * @return com.atguigu.mybatis.pojo.Emp
 * @date 2022/2/27 20:23
 */
Dept getEmpAndDeptByStepTwo(@Param(&quot;did&quot;) Integer did);
</code></pre>
<pre><code class="xml">&lt;!--æ­¤å¤„çš„resultMapä»…æ˜¯å¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»--&gt;
&lt;resultMap id=&quot;EmpAndDeptByStepTwoResultMap&quot; type=&quot;Dept&quot;&gt;
    &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
&lt;/resultMap&gt;
&lt;!--Dept getEmpAndDeptByStepTwo(@Param(&quot;did&quot;) Integer did);--&gt;
&lt;select id=&quot;getEmpAndDeptByStepTwo&quot; resultMap=&quot;EmpAndDeptByStepTwoResultMap&quot;&gt;
    select * from t_dept where did = #&#123;did&#125;
&lt;/select&gt;
</code></pre>
<h2 id="ä¸€å¯¹å¤šæ˜ å°„å¤„ç†"><a href="#ä¸€å¯¹å¤šæ˜ å°„å¤„ç†" class="headerlink" title="ä¸€å¯¹å¤šæ˜ å°„å¤„ç†"></a>ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</h2><pre><code class="java">public class Dept &#123;
    private Integer did;
    private String deptName;
    private List&lt;Emp&gt; emps;
    //...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰
&#125;
</code></pre>
<h3 id="collection"><a href="#collection" class="headerlink" title="collection"></a>collection</h3><ul>
<li>collectionï¼šç”¨æ¥å¤„ç†ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</li>
<li>ofTypeï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹é¥®çš„é›†åˆä¸­å­˜å‚¨çš„æ•°æ®çš„ç±»å‹</li>
</ul>
<pre><code class="xml">&lt;resultMap id=&quot;DeptAndEmpResultMap&quot; type=&quot;Dept&quot;&gt;
    &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
    &lt;collection property=&quot;emps&quot; ofType=&quot;Emp&quot;&gt;
        &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
        &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
        &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
        &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;/collection&gt;
&lt;/resultMap&gt;
&lt;!--Dept getDeptAndEmp(@Param(&quot;did&quot;) Integer did);--&gt;
&lt;select id=&quot;getDeptAndEmp&quot; resultMap=&quot;DeptAndEmpResultMap&quot;&gt;
    select * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #&#123;did&#125;
&lt;/select&gt;
</code></pre>
<h3 id="åˆ†æ­¥æŸ¥è¯¢-1"><a href="#åˆ†æ­¥æŸ¥è¯¢-1" class="headerlink" title="åˆ†æ­¥æŸ¥è¯¢"></a>åˆ†æ­¥æŸ¥è¯¢</h3><h4 id="1-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"><a href="#1-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯" class="headerlink" title="1. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯"></a>1. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</h4><pre><code class="java">/**
 * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
 * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯
 * @param did 
 * @return com.atguigu.mybatis.pojo.Dept
 * @date 2022/2/27 22:04
 */
Dept getDeptAndEmpByStepOne(@Param(&quot;did&quot;) Integer did);
</code></pre>
<pre><code class="xml">&lt;resultMap id=&quot;DeptAndEmpByStepOneResultMap&quot; type=&quot;Dept&quot;&gt;
    &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
    &lt;collection property=&quot;emps&quot;
                select=&quot;com.atguigu.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo&quot;
                column=&quot;did&quot;&gt;&lt;/collection&gt;
&lt;/resultMap&gt;
&lt;!--Dept getDeptAndEmpByStepOne(@Param(&quot;did&quot;) Integer did);--&gt;
&lt;select id=&quot;getDeptAndEmpByStepOne&quot; resultMap=&quot;DeptAndEmpByStepOneResultMap&quot;&gt;
    select * from t_dept where did = #&#123;did&#125;
&lt;/select&gt;
</code></pre>
<h4 id="2-æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥"><a href="#2-æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥" class="headerlink" title="2. æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥"></a>2. æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</h4><pre><code class="java">/**
 * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
 * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šæ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥
 * @param did
 * @return java.util.List&lt;com.atguigu.mybatis.pojo.Emp&gt;
 * @date 2022/2/27 22:10
 */
List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&quot;did&quot;) Integer did);
</code></pre>
<pre><code class="xml">&lt;!--List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&quot;did&quot;) Integer did);--&gt;
&lt;select id=&quot;getDeptAndEmpByStepTwo&quot; resultType=&quot;Emp&quot;&gt;
    select * from t_emp where did = #&#123;did&#125;
&lt;/select&gt;
</code></pre>
<h2 id="å»¶è¿ŸåŠ è½½"><a href="#å»¶è¿ŸåŠ è½½" class="headerlink" title="å»¶è¿ŸåŠ è½½"></a>å»¶è¿ŸåŠ è½½</h2><ul>
<li>åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹ï¼šå¯ä»¥å®ç°å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å¿…é¡»åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€é…ç½®ä¿¡æ¯ï¼š</li>
<li>lazyLoadingEnabledï¼šå»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½  <ul>
<li>aggressiveLazyLoadingï¼šå½“å¼€å¯æ—¶ï¼Œä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå±æ€§ä¼šæŒ‰éœ€åŠ è½½</li>
</ul>
</li>
<li>æ­¤æ—¶å°±å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ï¼Œè·å–çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Œå°±åªä¼šæ‰§è¡Œç›¸åº”çš„sqlã€‚æ­¤æ—¶å¯é€šè¿‡associationå’Œcollectionä¸­çš„fetchTypeå±æ€§è®¾ç½®å½“å‰çš„åˆ†æ­¥æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼ŒfetchType&#x3D;â€lazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)â€</li>
</ul>
<pre><code class="xml">&lt;settings&gt;
    &lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;
    &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;
&lt;/settings&gt;
</code></pre>
<pre><code class="java">@Test
public void getEmpAndDeptByStepOne() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
    Emp emp = mapper.getEmpAndDeptByStepOne(1);
    System.out.println(emp.getEmpName());
&#125;
</code></pre>
<ul>
<li>å…³é—­å»¶è¿ŸåŠ è½½ï¼Œä¸¤æ¡SQLè¯­å¥éƒ½è¿è¡Œäº†<img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\å»¶è¿ŸåŠ è½½æµ‹è¯•1.png"></li>
<li>å¼€å¯å»¶è¿ŸåŠ è½½ï¼Œåªè¿è¡Œè·å–empçš„SQLè¯­å¥<br><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\å»¶è¿ŸåŠ è½½æµ‹è¯•2.png"></li>
</ul>
<pre><code class="java">@Test
public void getEmpAndDeptByStepOne() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
    Emp emp = mapper.getEmpAndDeptByStepOne(1);
    System.out.println(emp.getEmpName());
    System.out.println(&quot;----------------&quot;);
    System.out.println(emp.getDept());
&#125;
</code></pre>
<ul>
<li><p>å¼€å¯åï¼Œéœ€è¦ç”¨åˆ°æŸ¥è¯¢deptçš„æ—¶å€™æ‰ä¼šè°ƒç”¨ç›¸åº”çš„SQLè¯­å¥<img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\å»¶è¿ŸåŠ è½½æµ‹è¯•3.png"></p>
</li>
<li><p>fetchTypeï¼šå½“å¼€å¯äº†å…¨å±€çš„å»¶è¿ŸåŠ è½½ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§æ‰‹åŠ¨æ§åˆ¶å»¶è¿ŸåŠ è½½çš„æ•ˆæœï¼ŒfetchType&#x3D;â€lazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)â€</p>
<pre><code class="xml">&lt;resultMap id=&quot;empAndDeptByStepResultMap&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;association property=&quot;dept&quot;
                 select=&quot;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&quot;
                 column=&quot;did&quot;
                 fetchType=&quot;lazy&quot;&gt;&lt;/association&gt;
&lt;/resultMap&gt;
</code></pre>
</li>
</ul>
<h1 id="åŠ¨æ€SQL"><a href="#åŠ¨æ€SQL" class="headerlink" title="åŠ¨æ€SQL"></a>åŠ¨æ€SQL</h1><ul>
<li>Mybatisæ¡†æ¶çš„åŠ¨æ€SQLæŠ€æœ¯æ˜¯ä¸€ç§æ ¹æ®ç‰¹å®šæ¡ä»¶åŠ¨æ€æ‹¼è£…SQLè¯­å¥çš„åŠŸèƒ½ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è§£å†³æ‹¼æ¥SQLè¯­å¥å­—ç¬¦ä¸²æ—¶çš„ç—›ç‚¹é—®é¢˜</li>
</ul>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><ul>
<li>ifæ ‡ç­¾å¯é€šè¿‡testå±æ€§ï¼ˆå³ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼‰çš„è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¡¨è¾¾å¼çš„ç»“æœä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¸­çš„å†…å®¹ä¼šæ‰§è¡Œï¼›åä¹‹æ ‡ç­¾ä¸­çš„å†…å®¹ä¸ä¼šæ‰§è¡Œ</li>
<li>åœ¨whereåé¢æ·»åŠ ä¸€ä¸ªæ’æˆç«‹æ¡ä»¶<code>1=1</code></li>
<li>è¿™ä¸ªæ’æˆç«‹æ¡ä»¶å¹¶ä¸ä¼šå½±å“æŸ¥è¯¢çš„ç»“æœ<ul>
<li>è¿™ä¸ª<code>1=1</code>å¯ä»¥ç”¨æ¥æ‹¼æ¥<code>and</code>è¯­å¥ï¼Œä¾‹å¦‚ï¼šå½“empNameä¸ºnullæ—¶</li>
<li>å¦‚æœä¸åŠ ä¸Šæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶<code>where</code>ä¼šä¸<code>and</code>è¿ç”¨ï¼ŒSQLè¯­å¥ä¼šæŠ¥é”™<ul>
<li>å¦‚æœåŠ ä¸Šä¸€ä¸ªæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where 1= 1 and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶ä¸æŠ¥é”™</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="xml">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;
&lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
    select * from t_emp where 1=1
    &lt;if test=&quot;empName != null and empName !=&#39;&#39;&quot;&gt;
        and emp_name = #&#123;empName&#125;
    &lt;/if&gt;
    &lt;if test=&quot;age != null and age !=&#39;&#39;&quot;&gt;
        and age = #&#123;age&#125;
    &lt;/if&gt;
    &lt;if test=&quot;sex != null and sex !=&#39;&#39;&quot;&gt;
        and sex = #&#123;sex&#125;
    &lt;/if&gt;
    &lt;if test=&quot;email != null and email !=&#39;&#39;&quot;&gt;
        and email = #&#123;email&#125;
    &lt;/if&gt;
&lt;/select&gt;
</code></pre>
<h2 id="where"><a href="#where" class="headerlink" title="where"></a>where</h2><ul>
<li>whereå’Œifä¸€èˆ¬ç»“åˆä½¿ç”¨ï¼š</li>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œå³ä¸ä¼šæ·»åŠ whereå…³é”®å­—  <ul>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ whereå…³é”®å­—ï¼Œå¹¶å°†æ¡ä»¶æœ€å‰æ–¹å¤šä½™çš„and&#x2F;orå»æ‰</li>
</ul>
</li>
</ul>
<pre><code class="xml">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;
&lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
    select * from t_emp
    &lt;where&gt;
        &lt;if test=&quot;empName != null and empName !=&#39;&#39;&quot;&gt;
            emp_name = #&#123;empName&#125;
        &lt;/if&gt;
        &lt;if test=&quot;age != null and age !=&#39;&#39;&quot;&gt;
            and age = #&#123;age&#125;
        &lt;/if&gt;
        &lt;if test=&quot;sex != null and sex !=&#39;&#39;&quot;&gt;
            and sex = #&#123;sex&#125;
        &lt;/if&gt;
        &lt;if test=&quot;email != null and email !=&#39;&#39;&quot;&gt;
            and email = #&#123;email&#125;
        &lt;/if&gt;
    &lt;/where&gt;
&lt;/select&gt;
</code></pre>
<ul>
<li><p>æ³¨æ„ï¼šwhereæ ‡ç­¾ä¸èƒ½å»æ‰æ¡ä»¶åå¤šä½™çš„and&#x2F;or</p>
<pre><code class="xml">&lt;!--è¿™ç§ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼Œåªèƒ½å»æ‰æ¡ä»¶å‰é¢çš„and/orï¼Œæ¡ä»¶åé¢çš„ä¸è¡Œ--&gt;
&lt;if test=&quot;empName != null and empName !=&#39;&#39;&quot;&gt;
emp_name = #&#123;empName&#125; and
&lt;/if&gt;
&lt;if test=&quot;age != null and age !=&#39;&#39;&quot;&gt;
    age = #&#123;age&#125;
&lt;/if&gt;
</code></pre>
</li>
</ul>
<h2 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h2><ul>
<li>trimç”¨äºå»æ‰æˆ–æ·»åŠ æ ‡ç­¾ä¸­çš„å†…å®¹  </li>
<li>å¸¸ç”¨å±æ€§</li>
<li>prefixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢æ·»åŠ æŸäº›å†…å®¹  <ul>
<li>suffixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢æ·»åŠ æŸäº›å†…å®¹ </li>
<li>prefixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢å»æ‰æŸäº›å†…å®¹  </li>
<li>suffixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢å»æ‰æŸäº›å†…å®¹</li>
</ul>
</li>
<li>è‹¥trimä¸­çš„æ ‡ç­¾éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™trimæ ‡ç­¾æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œä¹Ÿå°±æ˜¯åªå‰©ä¸‹<code>select * from t_emp</code></li>
</ul>
<pre><code class="xml">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;
&lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
    select * from t_emp
    &lt;trim prefix=&quot;where&quot; suffixOverrides=&quot;and|or&quot;&gt;
        &lt;if test=&quot;empName != null and empName !=&#39;&#39;&quot;&gt;
            emp_name = #&#123;empName&#125; and
        &lt;/if&gt;
        &lt;if test=&quot;age != null and age !=&#39;&#39;&quot;&gt;
            age = #&#123;age&#125; and
        &lt;/if&gt;
        &lt;if test=&quot;sex != null and sex !=&#39;&#39;&quot;&gt;
            sex = #&#123;sex&#125; or
        &lt;/if&gt;
        &lt;if test=&quot;email != null and email !=&#39;&#39;&quot;&gt;
            email = #&#123;email&#125;
        &lt;/if&gt;
    &lt;/trim&gt;
&lt;/select&gt;
</code></pre>
<pre><code class="java">//æµ‹è¯•ç±»
@Test
public void getEmpByCondition() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
    List&lt;Emp&gt; emps= mapper.getEmpByCondition(new Emp(null, &quot;å¼ ä¸‰&quot;, null, null, null, null));
    System.out.println(emps);
&#125;
</code></pre>
<p><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\trimæµ‹è¯•ç»“æœ.png"></p>
<h2 id="chooseã€whenã€otherwise"><a href="#chooseã€whenã€otherwise" class="headerlink" title="chooseã€whenã€otherwise"></a>chooseã€whenã€otherwise</h2><ul>
<li><code>chooseã€whenã€otherwise</code>ç›¸å½“äº<code>if...else if..else</code></li>
<li>whenè‡³å°‘è¦æœ‰ä¸€ä¸ªï¼Œotherwiseè‡³å¤šåªæœ‰ä¸€ä¸ª</li>
</ul>
<pre><code class="xml">&lt;select id=&quot;getEmpByChoose&quot; resultType=&quot;Emp&quot;&gt;
    select * from t_emp
    &lt;where&gt;
        &lt;choose&gt;
            &lt;when test=&quot;empName != null and empName != &#39;&#39;&quot;&gt;
                emp_name = #&#123;empName&#125;
            &lt;/when&gt;
            &lt;when test=&quot;age != null and age != &#39;&#39;&quot;&gt;
                age = #&#123;age&#125;
            &lt;/when&gt;
            &lt;when test=&quot;sex != null and sex != &#39;&#39;&quot;&gt;
                sex = #&#123;sex&#125;
            &lt;/when&gt;
            &lt;when test=&quot;email != null and email != &#39;&#39;&quot;&gt;
                email = #&#123;email&#125;
            &lt;/when&gt;
            &lt;otherwise&gt;
                did = 1
            &lt;/otherwise&gt;
        &lt;/choose&gt;
    &lt;/where&gt;
&lt;/select&gt;
</code></pre>
<pre><code class="java">@Test
public void getEmpByChoose() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
    List&lt;Emp&gt; emps = mapper.getEmpByChoose(new Emp(null, &quot;å¼ ä¸‰&quot;, 23, &quot;ç”·&quot;, &quot;123@qq.com&quot;, null));
    System.out.println(emps);
&#125;
</code></pre>
<p><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\chooseæµ‹è¯•ç»“æœ.png"></p>
<ul>
<li>ç›¸å½“äº<code>if a else if b else if c else d</code>ï¼Œåªä¼šæ‰§è¡Œå…¶ä¸­ä¸€ä¸ª</li>
</ul>
<h2 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h2><ul>
<li><p>å±æ€§ï¼š  </p>
</li>
<li><p>collectionï¼šè®¾ç½®è¦å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆ  </p>
<ul>
<li>itemï¼šè¡¨ç¤ºé›†åˆæˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®  </li>
<li>separatorï¼šè®¾ç½®å¾ªç¯ä½“ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œåˆ†éš”ç¬¦å‰åé»˜è®¤æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚<code>,</code></li>
<li>openï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„å¼€å§‹ç¬¦  </li>
<li>closeï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„ç»“æŸç¬¦</li>
</ul>
</li>
<li><p>æ‰¹é‡åˆ é™¤</p>
<pre><code class="xml">&lt;!--int deleteMoreByArray(Integer[] eids);--&gt;
&lt;delete id=&quot;deleteMoreByArray&quot;&gt;
    delete from t_emp where eid in
    &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;
        #&#123;eid&#125;
    &lt;/foreach&gt;
&lt;/delete&gt;
</code></pre>
<pre><code class="java">@Test
public void deleteMoreByArray() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
    int result = mapper.deleteMoreByArray(new Integer[]&#123;6, 7, 8, 9&#125;);
    System.out.println(result);
&#125;
</code></pre>
<p>  <img src="/Resources/foreach%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C1.png"></p>
</li>
<li><p>æ‰¹é‡æ·»åŠ </p>
<pre><code class="xml">&lt;!--int insertMoreByList(@Param(&quot;emps&quot;) List&lt;Emp&gt; emps);--&gt;
&lt;insert id=&quot;insertMoreByList&quot;&gt;
    insert into t_emp values
    &lt;foreach collection=&quot;emps&quot; item=&quot;emp&quot; separator=&quot;,&quot;&gt;
        (null,#&#123;emp.empName&#125;,#&#123;emp.age&#125;,#&#123;emp.sex&#125;,#&#123;emp.email&#125;,null)
    &lt;/foreach&gt;
&lt;/insert&gt;
</code></pre>
<pre><code class="java">@Test
public void insertMoreByList() &#123;
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
    Emp emp1 = new Emp(null,&quot;a&quot;,1,&quot;ç”·&quot;,&quot;123@321.com&quot;,null);
    Emp emp2 = new Emp(null,&quot;b&quot;,1,&quot;ç”·&quot;,&quot;123@321.com&quot;,null);
    Emp emp3 = new Emp(null,&quot;c&quot;,1,&quot;ç”·&quot;,&quot;123@321.com&quot;,null);
    List&lt;Emp&gt; emps = Arrays.asList(emp1, emp2, emp3);
    int result = mapper.insertMoreByList(emps);
    System.out.println(result);
&#125;
</code></pre>
<p>  <img src="/Resources/foreach%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C2.png"></p>
</li>
</ul>
<h2 id="SQLç‰‡æ®µ"><a href="#SQLç‰‡æ®µ" class="headerlink" title="SQLç‰‡æ®µ"></a>SQLç‰‡æ®µ</h2><ul>
<li>sqlç‰‡æ®µï¼Œå¯ä»¥è®°å½•ä¸€æ®µå…¬å…±sqlç‰‡æ®µï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹é€šè¿‡includeæ ‡ç­¾è¿›è¡Œå¼•å…¥</li>
<li>å£°æ˜sqlç‰‡æ®µï¼š<code>&lt;sql&gt;</code>æ ‡ç­¾</li>
</ul>
<pre><code class="xml">&lt;sql id=&quot;empColumns&quot;&gt;eid,emp_name,age,sex,email&lt;/sql&gt;
</code></pre>
<ul>
<li>å¼•ç”¨sqlç‰‡æ®µï¼š<code>&lt;include&gt;</code>æ ‡ç­¾</li>
</ul>
<pre><code class="xml">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;
&lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
    select &lt;include refid=&quot;empColumns&quot;&gt;&lt;/include&gt; from t_emp
&lt;/select&gt;
</code></pre>
<h1 id="MyBatisçš„ç¼“å­˜"><a href="#MyBatisçš„ç¼“å­˜" class="headerlink" title="MyBatisçš„ç¼“å­˜"></a>MyBatisçš„ç¼“å­˜</h1><h2 id="MyBatisçš„ä¸€çº§ç¼“å­˜"><a href="#MyBatisçš„ä¸€çº§ç¼“å­˜" class="headerlink" title="MyBatisçš„ä¸€çº§ç¼“å­˜"></a>MyBatisçš„ä¸€çº§ç¼“å­˜</h2><ul>
<li><p>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionæŸ¥è¯¢çš„æ•°æ®ä¼šè¢«ç¼“å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œå°±ä¼šä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸ä¼šä»æ•°æ®åº“é‡æ–°è®¿é—®  </p>
</li>
<li><p>ä½¿ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µï¼š  </p>
<ol>
<li>ä¸åŒçš„SqlSessionå¯¹åº”ä¸åŒçš„ä¸€çº§ç¼“å­˜  </li>
<li>åŒä¸€ä¸ªSqlSessionä½†æ˜¯æŸ¥è¯¢æ¡ä»¶ä¸åŒ</li>
<li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡å¢åˆ æ”¹æ“ä½œ</li>
<li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜</li>
</ol>
</li>
</ul>
<h2 id="MyBatisçš„äºŒçº§ç¼“å­˜"><a href="#MyBatisçš„äºŒçº§ç¼“å­˜" class="headerlink" title="MyBatisçš„äºŒçº§ç¼“å­˜"></a>MyBatisçš„äºŒçº§ç¼“å­˜</h2><ul>
<li><p>äºŒçº§ç¼“å­˜æ˜¯SqlSessionFactoryçº§åˆ«ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionFactoryåˆ›å»ºçš„SqlSessionæŸ¥è¯¢çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼›æ­¤åè‹¥å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œç»“æœå°±ä¼šä»ç¼“å­˜ä¸­è·å–  </p>
</li>
<li><p>äºŒçº§ç¼“å­˜å¼€å¯çš„æ¡ä»¶</p>
<ol>
<li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å…¨å±€é…ç½®å±æ€§cacheEnabled&#x3D;â€trueâ€ï¼Œé»˜è®¤ä¸ºtrueï¼Œä¸éœ€è¦è®¾ç½®</li>
<li>åœ¨æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®æ ‡ç­¾<cache /></li>
<li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨SqlSessionå…³é—­æˆ–æäº¤ä¹‹åæœ‰æ•ˆ</li>
<li>æŸ¥è¯¢çš„æ•°æ®æ‰€è½¬æ¢çš„å®ä½“ç±»ç±»å‹å¿…é¡»å®ç°åºåˆ—åŒ–çš„æ¥å£</li>
</ol>
</li>
<li><p>ä½¿äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼šä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†ä»»æ„çš„å¢åˆ æ”¹ï¼Œä¼šä½¿ä¸€çº§å’ŒäºŒçº§ç¼“å­˜åŒæ—¶å¤±æ•ˆ</p>
</li>
</ul>
<h2 id="äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®"><a href="#äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®" class="headerlink" title="äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®"></a>äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</h2><ul>
<li>åœ¨mapperé…ç½®æ–‡ä»¶ä¸­æ·»åŠ çš„cacheæ ‡ç­¾å¯ä»¥è®¾ç½®ä¸€äº›å±æ€§</li>
<li>evictionå±æ€§ï¼šç¼“å­˜å›æ”¶ç­–ç•¥  </li>
<li>LRUï¼ˆLeast Recently Usedï¼‰ â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚  <ul>
<li>FIFOï¼ˆFirst in First outï¼‰ â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚  </li>
<li>SOFT â€“ è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚  </li>
<li>WEAK â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li>
<li>é»˜è®¤çš„æ˜¯ LRU</li>
</ul>
</li>
<li>flushIntervalå±æ€§ï¼šåˆ·æ–°é—´éš”ï¼Œå•ä½æ¯«ç§’</li>
<li>é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥ï¼ˆå¢åˆ æ”¹ï¼‰æ—¶åˆ·æ–°</li>
<li>sizeå±æ€§ï¼šå¼•ç”¨æ•°ç›®ï¼Œæ­£æ•´æ•°</li>
<li>ä»£è¡¨ç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨å¤šå°‘ä¸ªå¯¹è±¡ï¼Œå¤ªå¤§å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li>
<li>readOnlyå±æ€§ï¼šåªè¯»ï¼Œtrue&#x2F;false</li>
<li>trueï¼šåªè¯»ç¼“å­˜ï¼›ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚  <ul>
<li>falseï¼šè¯»å†™ç¼“å­˜ï¼›ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰ã€‚è¿™ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®‰å…¨ï¼Œå› æ­¤é»˜è®¤æ˜¯false</li>
</ul>
</li>
</ul>
<h2 id="MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº"><a href="#MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº" class="headerlink" title="MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº"></a>MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</h2><ul>
<li>å…ˆæŸ¥è¯¢äºŒçº§ç¼“å­˜ï¼Œå› ä¸ºäºŒçº§ç¼“å­˜ä¸­å¯èƒ½ä¼šæœ‰å…¶ä»–ç¨‹åºå·²ç»æŸ¥å‡ºæ¥çš„æ•°æ®ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨  </li>
<li>å¦‚æœäºŒçº§ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå†æŸ¥è¯¢ä¸€çº§ç¼“å­˜  </li>
<li>å¦‚æœä¸€çº§ç¼“å­˜ä¹Ÿæ²¡æœ‰å‘½ä¸­ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“  </li>
<li>SqlSessionå…³é—­ä¹‹åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šå†™å…¥äºŒçº§ç¼“å­˜</li>
</ul>
<h2 id="æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰"><a href="#æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰" class="headerlink" title="æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰"></a>æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰</h2><h3 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h3><pre><code class="xml">&lt;!-- Mybatis EHCacheæ•´åˆåŒ… --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.mybatis.caches&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt;
    &lt;version&gt;1.2.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- slf4jæ—¥å¿—é—¨é¢çš„ä¸€ä¸ªå…·ä½“å®ç° --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
    &lt;version&gt;1.2.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="å„ä¸ªjaråŒ…çš„åŠŸèƒ½"><a href="#å„ä¸ªjaråŒ…çš„åŠŸèƒ½" class="headerlink" title="å„ä¸ªjaråŒ…çš„åŠŸèƒ½"></a>å„ä¸ªjaråŒ…çš„åŠŸèƒ½</h3><table>
<thead>
<tr>
<th>jaråŒ…åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>mybatis-ehcache</td>
<td>Mybatiså’ŒEHCacheçš„æ•´åˆåŒ…</td>
</tr>
<tr>
<td>ehcache</td>
<td>EHCacheæ ¸å¿ƒåŒ…</td>
</tr>
<tr>
<td>slf4j-api</td>
<td>SLF4Jæ—¥å¿—é—¨é¢åŒ…</td>
</tr>
<tr>
<td>logback-classic</td>
<td>æ”¯æŒSLF4Jé—¨é¢æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°</td>
</tr>
</tbody></table>
<h3 id="åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache-xml"><a href="#åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache-xml" class="headerlink" title="åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml"></a>åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml</h3><ul>
<li>åå­—å¿…é¡»å«<code>ehcache.xml</code></li>
</ul>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:noNamespaceSchemaLocation=&quot;../config/ehcache.xsd&quot;&gt;
    &lt;!-- ç£ç›˜ä¿å­˜è·¯å¾„ --&gt;
    &lt;diskStore path=&quot;D:\atguigu\ehcache&quot;/&gt;
    &lt;defaultCache
            maxElementsInMemory=&quot;1000&quot;
            maxElementsOnDisk=&quot;10000000&quot;
            eternal=&quot;false&quot;
            overflowToDisk=&quot;true&quot;
            timeToIdleSeconds=&quot;120&quot;
            timeToLiveSeconds=&quot;120&quot;
            diskExpiryThreadIntervalSeconds=&quot;120&quot;
            memoryStoreEvictionPolicy=&quot;LRU&quot;&gt;
    &lt;/defaultCache&gt;
&lt;/ehcache&gt;
</code></pre>
<h3 id="è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹"><a href="#è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹" class="headerlink" title="è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹"></a>è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹</h3><ul>
<li>åœ¨xxxMapper.xmlæ–‡ä»¶ä¸­è®¾ç½®äºŒçº§ç¼“å­˜ç±»å‹</li>
</ul>
<pre><code class="xml">&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;/&gt;
</code></pre>
<h3 id="åŠ å…¥logbackæ—¥å¿—"><a href="#åŠ å…¥logbackæ—¥å¿—" class="headerlink" title="åŠ å…¥logbackæ—¥å¿—"></a>åŠ å…¥logbackæ—¥å¿—</h3><ul>
<li>å­˜åœ¨SLF4Jæ—¶ï¼Œä½œä¸ºç®€æ˜“æ—¥å¿—çš„log4jå°†å¤±æ•ˆï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©SLF4Jçš„å…·ä½“å®ç°logbackæ¥æ‰“å°æ—¥å¿—ã€‚åˆ›å»ºlogbackçš„é…ç½®æ–‡ä»¶<code>logback.xml</code>ï¼Œåå­—å›ºå®šï¼Œä¸å¯æ”¹å˜</li>
</ul>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration debug=&quot;true&quot;&gt;
    &lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½® --&gt;
    &lt;appender name=&quot;STDOUT&quot;
              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;
            &lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;
            &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%thread] [%logger] [%msg]%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;
    &lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šDEBUGã€INFOã€WARNã€ERROR --&gt;
    &lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;
    &lt;root level=&quot;DEBUG&quot;&gt;
        &lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;
        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;
    &lt;/root&gt;
    &lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ« --&gt;
    &lt;logger name=&quot;com.atguigu.crowd.mapper&quot; level=&quot;DEBUG&quot;/&gt;
&lt;/configuration&gt;
</code></pre>
<h3 id="EHCacheé…ç½®æ–‡ä»¶è¯´æ˜"><a href="#EHCacheé…ç½®æ–‡ä»¶è¯´æ˜" class="headerlink" title="EHCacheé…ç½®æ–‡ä»¶è¯´æ˜"></a>EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</h3><table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>æ˜¯å¦å¿…é¡»</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>maxElementsInMemory</td>
<td>æ˜¯</td>
<td>åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®</td>
</tr>
<tr>
<td>maxElementsOnDisk</td>
<td>æ˜¯</td>
<td>åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§</td>
</tr>
<tr>
<td>eternal</td>
<td>æ˜¯</td>
<td>è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚ å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œ å¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsã€timeToLiveSecondsåˆ¤æ–­</td>
</tr>
<tr>
<td>overflowToDisk</td>
<td>æ˜¯</td>
<td>è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š</td>
</tr>
<tr>
<td>timeToIdleSeconds</td>
<td>å¦</td>
<td>å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œ è¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§</td>
</tr>
<tr>
<td>timeToLiveSeconds</td>
<td>å¦</td>
<td>ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§</td>
</tr>
<tr>
<td>diskSpoolBufferSizeMB</td>
<td>å¦</td>
<td>DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº</td>
</tr>
<tr>
<td>diskPersistent</td>
<td>å¦</td>
<td>åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯false</td>
</tr>
<tr>
<td>diskExpiryThreadIntervalSeconds</td>
<td>å¦</td>
<td>ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œ ç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ</td>
</tr>
<tr>
<td>memoryStoreEvictionPolicy</td>
<td>å¦</td>
<td>å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚ é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡º</td>
</tr>
</tbody></table>
<h1 id="MyBatisçš„é€†å‘å·¥ç¨‹"><a href="#MyBatisçš„é€†å‘å·¥ç¨‹" class="headerlink" title="MyBatisçš„é€†å‘å·¥ç¨‹"></a>MyBatisçš„é€†å‘å·¥ç¨‹</h1><ul>
<li>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨ã€‚Hibernateæ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„</li>
<li>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æºï¼š  </li>
<li>Javaå®ä½“ç±»  <ul>
<li>Mapperæ¥å£  </li>
<li>Mapperæ˜ å°„æ–‡ä»¶</li>
</ul>
</li>
</ul>
<h2 id="åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤"><a href="#åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤" class="headerlink" title="åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤"></a>åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤</h2><h3 id="æ·»åŠ ä¾èµ–å’Œæ’ä»¶"><a href="#æ·»åŠ ä¾èµ–å’Œæ’ä»¶" class="headerlink" title="æ·»åŠ ä¾èµ–å’Œæ’ä»¶"></a>æ·»åŠ ä¾èµ–å’Œæ’ä»¶</h3><pre><code class="xml">&lt;dependencies&gt;
    &lt;!-- MyBatisæ ¸å¿ƒä¾èµ–åŒ… --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
        &lt;version&gt;3.5.9&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- junitæµ‹è¯• --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.13.2&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- MySQLé©±åŠ¨ --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.27&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- log4jæ—¥å¿— --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j&lt;/artifactId&gt;
        &lt;version&gt;1.2.17&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;
&lt;build&gt;
    &lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;
    &lt;plugins&gt;
        &lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;1.3.0&lt;/version&gt;
            &lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;
            &lt;dependencies&gt;
                &lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
                    &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;
                    &lt;version&gt;1.3.2&lt;/version&gt;
                &lt;/dependency&gt;
                &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;com.mchange&lt;/groupId&gt;
                    &lt;artifactId&gt;c3p0&lt;/artifactId&gt;
                    &lt;version&gt;0.9.2&lt;/version&gt;
                &lt;/dependency&gt;
                &lt;!-- MySQLé©±åŠ¨ --&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;mysql&lt;/groupId&gt;
                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
                    &lt;version&gt;8.0.27&lt;/version&gt;
                &lt;/dependency&gt;
            &lt;/dependencies&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<h3 id="åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-1"><a href="#åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-1" class="headerlink" title="åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;properties resource=&quot;jdbc.properties&quot;/&gt;
    &lt;typeAliases&gt;
        &lt;package name=&quot;&quot;/&gt;
    &lt;/typeAliases&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;mappers&gt;
        &lt;package name=&quot;&quot;/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;
</code></pre>
<h3 id="åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶"></a>åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</h3><ul>
<li>æ–‡ä»¶åå¿…é¡»æ˜¯ï¼š<code>generatorConfig.xml</code></li>
</ul>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE generatorConfiguration
        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;
&lt;generatorConfiguration&gt;
    &lt;!--
    targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬
    MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆæ¸…æ–°ç®€æ´ç‰ˆï¼‰
    MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå¥¢åå°Šäº«ç‰ˆï¼‰
    --&gt;
    &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3Simple&quot;&gt;
        &lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;
        &lt;jdbcConnection driverClass=&quot;com.mysql.cj.jdbc.Driver&quot;
                        connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot;
                        userId=&quot;root&quot;
                        password=&quot;123456&quot;&gt;
        &lt;/jdbcConnection&gt;
        &lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;
        &lt;javaModelGenerator targetPackage=&quot;com.atguigu.mybatis.pojo&quot; targetProject=&quot;.\src\main\java&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;
        &lt;/javaModelGenerator&gt;
        &lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;
        &lt;sqlMapGenerator targetPackage=&quot;com.atguigu.mybatis.mapper&quot;
                         targetProject=&quot;.\src\main\resources&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
        &lt;/sqlMapGenerator&gt;
        &lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;
        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot;
                             targetPackage=&quot;com.atguigu.mybatis.mapper&quot; targetProject=&quot;.\src\main\java&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
        &lt;/javaClientGenerator&gt;
        &lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;
        &lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;
        &lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;
        &lt;table tableName=&quot;t_emp&quot; domainObjectName=&quot;Emp&quot;/&gt;
        &lt;table tableName=&quot;t_dept&quot; domainObjectName=&quot;Dept&quot;/&gt;
    &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</code></pre>
<h3 id="æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡"><a href="#æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡" class="headerlink" title="æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡"></a>æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡</h3><ul>
<li><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡.png"></li>
<li>å¦‚æœå‡ºç°æŠ¥é”™ï¼š<code>Exception getting JDBC Driver</code>ï¼Œå¯èƒ½æ˜¯pom.xmlä¸­ï¼Œæ•°æ®åº“é©±åŠ¨é…ç½®é”™è¯¯</li>
<li>dependencyä¸­çš„é©±åŠ¨<img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\dependencyä¸­çš„é©±åŠ¨.png"><ul>
<li>mybatis-generator-maven-pluginæ’ä»¶ä¸­çš„é©±åŠ¨<img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\æ’ä»¶ä¸­çš„é©±åŠ¨.png"></li>
<li>ä¸¤è€…çš„é©±åŠ¨ç‰ˆæœ¬åº”è¯¥ç›¸åŒ</li>
</ul>
</li>
<li>æ‰§è¡Œç»“æœ<img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\é€†å‘æ‰§è¡Œç»“æœ.png"></li>
</ul>
<h2 id="QBC"><a href="#QBC" class="headerlink" title="QBC"></a>QBC</h2><h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><ul>
<li><code>selectByExample</code>ï¼šæŒ‰æ¡ä»¶æŸ¥è¯¢ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªexampleå¯¹è±¡æˆ–è€…nullï¼›å¦‚æœä¼ å…¥ä¸€ä¸ªnullï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯æŸ¥è¯¢æ‰€æœ‰æ•°æ®</li>
<li><code>example.createCriteria().xxx</code>ï¼šåˆ›å»ºæ¡ä»¶å¯¹è±¡ï¼Œé€šè¿‡andXXXæ–¹æ³•ä¸ºSQLæ·»åŠ æŸ¥è¯¢æ·»åŠ ï¼Œæ¯ä¸ªæ¡ä»¶ä¹‹é—´æ˜¯andå…³ç³»</li>
<li><code>example.or().xxx</code>ï¼šå°†ä¹‹å‰æ·»åŠ çš„æ¡ä»¶é€šè¿‡oræ‹¼æ¥å…¶ä»–æ¡ä»¶<br><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\exampleçš„æ–¹æ³•.png"></li>
</ul>
<pre><code class="java">@Test public void testMBG() throws IOException &#123;
    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
    SqlSession sqlSession = sqlSessionFactory.openSession(true);
    EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
    EmpExample example = new EmpExample();
    //åå­—ä¸ºå¼ ä¸‰ï¼Œä¸”å¹´é¾„å¤§äºç­‰äº20
    example.createCriteria().andEmpNameEqualTo(&quot;å¼ ä¸‰&quot;).andAgeGreaterThanOrEqualTo(20);
    //æˆ–è€…didä¸ä¸ºç©º
    example.or().andDidIsNotNull();
    List&lt;Emp&gt; emps = mapper.selectByExample(example);
    emps.forEach(System.out::println);
&#125;
</code></pre>
<p><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\exampleæµ‹è¯•ç»“æœ.png"></p>
<h3 id="å¢æ”¹"><a href="#å¢æ”¹" class="headerlink" title="å¢æ”¹"></a>å¢æ”¹</h3><ul>
<li><code>updateByPrimaryKey</code>ï¼šé€šè¿‡ä¸»é”®è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œå¦‚æœæŸä¸€ä¸ªå€¼ä¸ºnullï¼Œä¹Ÿä¼šå°†å¯¹åº”çš„å­—æ®µæ”¹ä¸ºnull</li>
<li><code>mapper.updateByPrimaryKey(new Emp(1,&quot;admin&quot;,22,null,&quot;456@qq.com&quot;,3));</code><ul>
<li><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\å¢åˆ æ”¹æµ‹è¯•ç»“æœ1.png"></li>
</ul>
</li>
<li><code>updateByPrimaryKeySelective()</code>ï¼šé€šè¿‡ä¸»é”®è¿›è¡Œé€‰æ‹©æ€§æ•°æ®ä¿®æ”¹ï¼Œå¦‚æœæŸä¸ªå€¼ä¸ºnullï¼Œåˆ™ä¸ä¿®æ”¹è¿™ä¸ªå­—æ®µ</li>
<li><code>mapper.updateByPrimaryKeySelective(new Emp(2,&quot;admin2&quot;,22,null,&quot;456@qq.com&quot;,3));</code><ul>
<li><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\å¢åˆ æ”¹æµ‹è¯•ç»“æœ2.png"></li>
</ul>
</li>
</ul>
<h1 id="åˆ†é¡µæ’ä»¶"><a href="#åˆ†é¡µæ’ä»¶" class="headerlink" title="åˆ†é¡µæ’ä»¶"></a>åˆ†é¡µæ’ä»¶</h1><h2 id="åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤"><a href="#åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤" class="headerlink" title="åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤"></a>åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤</h2><h3 id="æ·»åŠ ä¾èµ–-1"><a href="#æ·»åŠ ä¾èµ–-1" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h3><pre><code class="xml">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
    &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;
    &lt;version&gt;5.2.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="é…ç½®åˆ†é¡µæ’ä»¶"><a href="#é…ç½®åˆ†é¡µæ’ä»¶" class="headerlink" title="é…ç½®åˆ†é¡µæ’ä»¶"></a>é…ç½®åˆ†é¡µæ’ä»¶</h3><ul>
<li>åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰ä¸­é…ç½®æ’ä»¶</li>
<li><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\é…ç½®åˆ†é¡µæ’ä»¶.png"></li>
</ul>
<pre><code class="xml">&lt;plugins&gt;
    &lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;
    &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;&gt;&lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre>
<h2 id="åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"><a href="#åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨" class="headerlink" title="åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨"></a>åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</h2><h3 id="å¼€å¯åˆ†é¡µåŠŸèƒ½"><a href="#å¼€å¯åˆ†é¡µåŠŸèƒ½" class="headerlink" title="å¼€å¯åˆ†é¡µåŠŸèƒ½"></a>å¼€å¯åˆ†é¡µåŠŸèƒ½</h3><ul>
<li>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½</li>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç   <ul>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
</ul>
</li>
</ul>
<pre><code class="java">@Test
public void testPageHelper() throws IOException &#123;
    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
    SqlSession sqlSession = sqlSessionFactory.openSession(true);
    EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
    //è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®
    PageHelper.startPage(1,4);
    List&lt;Emp&gt; emps = mapper.selectByExample(null);
    emps.forEach(System.out::println);
&#125;
</code></pre>
<p><img src="C:\Windows\TEMP\Rar$DIa20892.25667\Resources\åˆ†é¡µæµ‹è¯•ç»“æœ.png"></p>
<h3 id="åˆ†é¡µç›¸å…³æ•°æ®"><a href="#åˆ†é¡µç›¸å…³æ•°æ®" class="headerlink" title="åˆ†é¡µç›¸å…³æ•°æ®"></a>åˆ†é¡µç›¸å…³æ•°æ®</h3><h4 id="æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º"><a href="#æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º"></a>æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º</h4><pre><code class="java">@Test
public void testPageHelper() throws IOException &#123;
    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
    SqlSession sqlSession = sqlSessionFactory.openSession(true);
    EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
    //è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®
    Page&lt;Object&gt; page = PageHelper.startPage(1, 4);
    List&lt;Emp&gt; emps = mapper.selectByExample(null);
    //åœ¨æŸ¥è¯¢åˆ°Listé›†åˆåï¼Œæ‰“å°åˆ†é¡µæ•°æ®
    System.out.println(page);
&#125;
</code></pre>
<ul>
<li><p>åˆ†é¡µç›¸å…³æ•°æ®ï¼š</p>
<pre><code>Page&#123;count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false&#125;[Emp&#123;eid=1, empName=&#39;admin&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3&#125;, Emp&#123;eid=2, empName=&#39;admin2&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3&#125;, Emp&#123;eid=3, empName=&#39;ç‹äº”&#39;, age=12, sex=&#39;å¥³&#39;, email=&#39;123@qq.com&#39;, did=3&#125;, Emp&#123;eid=4, empName=&#39;èµµå…­&#39;, age=32, sex=&#39;ç”·&#39;, email=&#39;123@qq.com&#39;, did=1&#125;]
</code></pre>
</li>
</ul>
<h4 id="æ–¹æ³•äºŒä½¿ç”¨PageInfo"><a href="#æ–¹æ³•äºŒä½¿ç”¨PageInfo" class="headerlink" title="æ–¹æ³•äºŒä½¿ç”¨PageInfo"></a>æ–¹æ³•äºŒä½¿ç”¨PageInfo</h4><ul>
<li>åœ¨æŸ¥è¯¢è·å–listé›†åˆä¹‹åï¼Œä½¿ç”¨<code>PageInfo&lt;T&gt; pageInfo = new PageInfo&lt;&gt;(List&lt;T&gt; list, intnavigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ®</li>
<li>listï¼šåˆ†é¡µä¹‹åçš„æ•°æ®  <ul>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
</ul>
</li>
</ul>
<pre><code class="java">@Test
public void testPageHelper() throws IOException &#123;
    InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
    SqlSession sqlSession = sqlSessionFactory.openSession(true);
    EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
    PageHelper.startPage(1, 4);
    List&lt;Emp&gt; emps = mapper.selectByExample(null);
    PageInfo&lt;Emp&gt; page = new PageInfo&lt;&gt;(emps,5);
    System.out.println(page);
&#125;
</code></pre>
<ul>
<li><p>åˆ†é¡µç›¸å…³æ•°æ®ï¼š</p>
<pre><code>PageInfo&#123;
pageNum=1, pageSize=4, size=4, startRow=1, endRow=4, total=8, pages=2, 
list=Page&#123;count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false&#125;[Emp&#123;eid=1, empName=&#39;admin&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3&#125;, Emp&#123;eid=2, empName=&#39;admin2&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3&#125;, Emp&#123;eid=3, empName=&#39;ç‹äº”&#39;, age=12, sex=&#39;å¥³&#39;, email=&#39;123@qq.com&#39;, did=3&#125;, Emp&#123;eid=4, empName=&#39;èµµå…­&#39;, age=32, sex=&#39;ç”·&#39;, email=&#39;123@qq.com&#39;, did=1&#125;], 
prePage=0, nextPage=2, isFirstPage=true, isLastPage=false, hasPreviousPage=false, hasNextPage=true, navigatePages=5, navigateFirstPage=1, navigateLastPage=2, navigatepageNums=[1, 2]&#125;
</code></pre>
</li>
<li><p>å…¶ä¸­listä¸­çš„æ•°æ®ç­‰åŒäºæ–¹æ³•ä¸€ä¸­ç›´æ¥è¾“å‡ºçš„pageæ•°æ®</p>
</li>
</ul>
<h4 id="å¸¸ç”¨æ•°æ®ï¼š"><a href="#å¸¸ç”¨æ•°æ®ï¼š" class="headerlink" title="å¸¸ç”¨æ•°æ®ï¼š"></a>å¸¸ç”¨æ•°æ®ï¼š</h4><ul>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç   </li>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°  </li>
<li>sizeï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°  </li>
<li>totalï¼šæ€»è®°å½•æ•°  </li>
<li>pagesï¼šæ€»é¡µæ•°  </li>
<li>prePageï¼šä¸Šä¸€é¡µçš„é¡µç   </li>
<li>nextPageï¼šä¸‹ä¸€é¡µçš„é¡µç </li>
<li>isFirstPage&#x2F;isLastPageï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ&#x2F;æœ€åä¸€é¡µ  </li>
<li>hasPreviousPage&#x2F;hasNextPageï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ&#x2F;ä¸‹ä¸€é¡µ  </li>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°  </li>
<li>navigatepageNumsï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4,5]</li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 2554163051@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">ğŸ’°</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2016-2020 Yelog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
